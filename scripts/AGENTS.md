<!-- Generated by agents-reverse-engineer -->

# scripts

NPM build automation scripts for package distribution preparation.

## Contents

### Build Scripts

[build-hooks.js](./build-hooks.js) — Copies hook files from `hooks/` to `hooks/dist/` using `copyFileSync()` after filtering `.js` files with `readdirSync(...).filter((f) => f.endsWith('.js') && f !== 'dist')`. Invoked via `npm run build:hooks` and `npm run prepublishOnly`.

## Execution Flow

**Pre-publish hook chain**: `npm run prepublishOnly` → `npm run build:hooks` → `node scripts/build-hooks.js` → `mkdirSync(HOOKS_DIST, { recursive: true })` → `copyFileSync()` loop → `hooks/dist/` populated for package tarball.

**Path resolution**: Uses ESM `import.meta.url` → `fileURLToPath()` → `dirname()` → `join(__dirname, '..')` to derive `projectRoot`, then constructs `HOOKS_SRC = join(projectRoot, 'hooks')` and `HOOKS_DIST = join(projectRoot, 'hooks', 'dist')`.

## Behavioral Contracts

**File filter predicate**: `(f) => f.endsWith('.js') && f !== 'dist'` — excludes `dist` directory from source scan, copies only `.js` hook files.

**Console output format**: `Copied: ${file} -> hooks/dist/${file}` per file, `Done. ${hookFiles.length} hook(s) built.` on completion.
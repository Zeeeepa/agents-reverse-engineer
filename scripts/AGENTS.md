<!-- Generated by agents-reverse-engineer -->

# scripts

Build automation directory containing prepublish hook distribution script. Executes during `npm run build:hooks` to copy session lifecycle hook files from `hooks/` to `hooks/dist/` for npm tarball inclusion.

## Contents

### Build Scripts

**[build-hooks.js](./build-hooks.js)** — Copies `.js` files from `hooks/` to `hooks/dist/` via `copyFileSync()`, invoked by `prepublishOnly` npm lifecycle script.

## Execution Model

Standalone Node.js script (`#!/usr/bin/env node` shebang) invoked via two mechanisms:
- **Automatic**: `prepublishOnly` lifecycle hook ensures hooks/dist/ populated before `npm publish` tarball creation
- **Manual**: `npm run build:hooks` for development verification after hook modifications

## File Discovery Pattern

`readdirSync(hooks/)` + filter predicate `f.endsWith('.js') && f !== 'dist'` selects JavaScript hook files while excluding the dist/ subdirectory itself. Current hook files copied:
- `are-check-update.js` — Claude/Gemini SessionStart version check
- `are-session-end.js` — Claude/Gemini SessionEnd auto-update trigger  
- `opencode-are-check-update.js` — OpenCode plugin version check wrapper
- `opencode-are-session-end.js` — OpenCode plugin session-end handler

## Output Behavior

Logs per-file copy operations to console with relative path formatting (`"Copied: <filename> -> hooks/dist/<filename>"`), concludes with summary (`"Done. N hook(s) built."`). Creates hooks/dist/ via `mkdirSync(recursive: true)` if missing.

## Integration Points

Complements TypeScript compilation (`npm run build` → tsc → dist/`) by handling non-TypeScript assets required for npm package distribution. hooks/dist/ excluded from version control but included in npm tarball via package.json `files` array.
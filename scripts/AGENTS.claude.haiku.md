<!-- Generated by agents-reverse-engineer v0.9.10 -->

# scripts

The scripts directory provides build automation and documentation auditing utilities for the agents-reverse-engineer project, including npm hook preparation, compression analysis for generated documentation, and diagnostic tools for the Agents Reverse Engineer pipeline.

## Contents

### Build & Distribution

[build-hooks.js](./build-hooks.js) — Copies .js files from `hooks/` to `hooks/dist/` for npm bundling; invoked via `prepublishOnly` lifecycle hook. Resolves `projectRoot` via `import.meta.url`, creates `HOOKS_DIST` with `mkdirSync(..., { recursive: true })`, filters source files by `.js` extension excluding `dist`, logs per-file copies and summary count.

### Documentation Auditing

[analyze-agents-compression.sh](./analyze-agents-compression.sh) — Audits AGENTS.md compression efficiency across the documentation tree, computing per-directory ratios (AGENTS.md size / input size) and reporting aggregate statistics. Validates input calculation: sums `.sum` files in same directory plus AGENTS.md from immediate subdirectories (both maxdepth 1). Interprets compression: <50% = EXCELLENT (>2x), <70% = GOOD (~1.5x), <90% = ACCEPTABLE (<1.2x), ≥90% = MINIMAL. Uses portable stat syntax (`stat -f%z` on BSD, `stat -c%s` on GNU) and `awk` for 2-decimal percentage computation.

[analyze-sum-ratios.sh](./analyze-sum-ratios.sh) — Measures .sum file compression against source files, validating target 25% threshold (script aims for 10%). Pairs each .sum file with source via extension removal, computes `(sum_size / source_size) * 100` ratio, reports mean/median/min/max. Flags outliers (ratio >50% or <10%) regardless of file count limit; displays first 10 files by default. Pass criteria: overall_ratio <25% (PASS), <30% (ACCEPTABLE), ≥30% (ABOVE TARGET). Platform-compatible stat and `numfmt --to=iec-i` for human-readable output.
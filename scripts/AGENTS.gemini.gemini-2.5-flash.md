<!-- Generated by agents-reverse-engineer v1.0.1 -->

# scripts
The `scripts` directory provides utilities for analyzing `AGENTS.md` compression, evaluating `.sum` file generation efficiency, and orchestrating hook file deployment.

## Contents
*   [`analyze-agents-compression.sh`](./analyze-agents-compression.sh): `analyze-agents-compression.sh` analyzes `AGENTS.md` file compression ratios and reports statistics like `overall_ratio` and `mean_ratio`.
*   [`analyze-sum-ratios.sh`](./analyze-sum-ratios.sh): `analyze-sum-ratios.sh` assesses documentation generation efficiency by comparing `.sum` file sizes to `source_file` sizes, reporting `overall_ratio` and `median_ratio`.
*   [`build-hooks.js`](./build-hooks.js): `build-hooks.js` orchestrates copying `.js` hook files from `HOOKS_SRC` to `HOOKS_DIST` using `copyFileSync`, ensuring destination `HOOKS_DIST` existence with `existsSync` and `mkdirSync`.

## Stack & Dependencies
*   `analyze-agents-compression.sh` requires `bash`, `find`, `stat`, `awk`, `numfmt`, `sort`, `grep`, and `bc`.
*   `analyze-sum-ratios.sh` requires `find`, `stat`, `awk`, and `numfmt`.
*   `build-hooks.js` operates within a Node.js environment, using `fs.copyFileSync`, `fs.existsSync`, and `fs.mkdirSync`.

## Workflow & Conventions
*   `build-hooks.js` execution is triggered by `npm run build:hooks` and `npm run prepublishOnly` scripts.

## Behavioral Contracts
*   **`analyze-agents-compression.sh` File Naming:** Assumes aggregated documentation as `AGENTS.md` and source documents as `*.sum`.
*   **`analyze-agents-compression.sh` Directory Structure:** Expects `AGENTS.md` files to exist in immediate subdirectories and alongside `*.sum` files.
*   **`analyze-agents-compression.sh` Output Statistics:** Produces `total_input_size`, `total_output_size`, `overall_ratio`, `compression_factor`, `space_efficiency`, `mean_ratio`, `median_ratio`, `min_ratio`, `max_ratio`.
*   **`analyze-agents-compression.sh` Ratio Thresholds:** Interprets compression quality using `overall_ratio` thresholds: `50%` (EXCELLENT), `70%` (GOOD), `90%` (ACCEPTABLE).
*   **`analyze-agents-compression.sh` Output Format String:** `%-52s %7s → %7s (%6.2f%%) [%2d .sum, %2d subdirs]\n` for `printf`.
*   **`analyze-sum-ratios.sh` File Discovery Pattern:** `find . -name "*.sum" -not -path "*/node_modules/*" -not -path "*/.git/*"`.
*   **`analyze-sum-ratios.sh` Ratio Calculation:** `(sum_size / source_size) * 100` for `ratio`.
*   **`analyze-sum-ratios.sh` Display Condition:** Individual file statistics are displayed if `file_count -le 10` or `ratio > 50` or `ratio < 10`.
*   **`analyze-sum-ratios.sh` Target Configuration:** `overall_ratio` is evaluated against `25%`.
*   **`analyze-sum-ratios.sh` Overall Ratio Interpretation:** `overall_ratio` less than `25` is "✓ PASS", less than `30` is "~ ACCEPTABLE", otherwise "✗ ABOVE TARGET".
*   **File Size Formatting:** Both `analyze-agents-compression.sh` and `analyze-sum-ratios.sh` use `numfmt --to=iec --suffix=B` or `numfmt --to=iec-i --suffix=B`.
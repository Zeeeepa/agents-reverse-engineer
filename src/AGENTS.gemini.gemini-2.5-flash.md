<!-- Generated by agents-reverse-engineer v1.0.1 -->

# src
The `src` directory serves as the primary source code root for the `agents-reverse-engineer` application, organizing core functionalities into distinct modules. It encompasses the application's AI interaction layer, change detection mechanisms, command-line interface, configuration management, foundational utilities, file discovery services, documentation generation logic, import analysis, installation and integration routines, task orchestration, output formatting, quality assurance checks, code rebuild processes, specification generation, and shared type definitions.

## Contents
*   [`version.ts`](./version.ts): `version.ts` exports `getVersion(): string` to retrieve the project's version from `package.json`, returning 'unknown' on failure.

## Subdirectories
*   [`ai/`](./ai/): The `src/ai` directory centralizes the core AI service layer, providing abstractions for interacting with various AI backends, managing subprocess execution, applying retry logic, collecting telemetry, and defining common data structures for AI operations.
*   [`change-detection/`](./change-detection/): The `src/change-detection` directory provides utilities for detecting changes in a Git repository, including identifying changed files between commits and computing content hashes of files.
*   [`cli/`](./cli/): `src/cli` implements the command-line interface for the `agents-reverse-engineer` tool, providing subcommands such as `cleanCommand`, `discoverCommand`, `generateCommand`, `initCommand`, `rebuildCommand`, `specifyCommand`, and `updateCommand`.
*   [`config/`](./config/): `src/config` centralizes configuration management for `agents-reverse-engineer`, defining schemas, default values, and the logic for loading, validating, and writing application settings.
*   [`core/`](./core/): The `src/core` directory provides the foundational programmatic API for `agents-reverse-engineer`, centralizing core functionalities such as logging, AI service orchestration, file discovery, prompt generation, documentation writing, quality assurance checks, and change detection, all configurable through `ConfigSchema`.
*   [`discovery/`](./discovery/): The `src/discovery` directory provides core functionalities for file discovery, defining interfaces for file filtering and exclusion, and orchestrating the process of walking directories and applying filters to identify relevant files.
*   [`generation/`](./generation/): The `src/generation` directory encapsulates the core logic for the agents-reverse-engineer system, orchestrating the discovery, analysis, and documentation of project files.
*   [`imports/`](./imports/): The `src/imports` directory provides utilities for extracting, classifying, and formatting JavaScript/TypeScript import statements from source code, essential for static analysis and generating import maps for LLM prompts.
*   [`installer/`](./installer/): `src/installer` orchestrates the `agents-reverse-engineer` CLI tool's installation and uninstallation, handling runtime detection, file operations, user prompts, and configuration modifications across various AI assistant runtimes.
*   [`integration/`](./integration/): The `integration` directory provides core functionalities for detecting AI coding assistant environments and generating platform-specific command files and hooks, ensuring the `agents-reverse-engineer` CLI integrates seamlessly with tools like Claude, Codex, OpenCode, and Gemini.
*   [`orchestration/`](./orchestration/): The `orchestration` directory manages the overall process of AI-driven documentation generation and updates, encompassing task planning, execution, concurrent processing, progress reporting, and trace logging.
*   [`output/`](./output/): This directory exports `Logger` interfaces and associated functions for standardized, colored terminal output, handling information, file status, warnings, and errors within the CLI.
*   [`quality/`](./quality/): `src/quality` provides the public API and defines shared types for project quality analysis, focusing on inconsistency detection, phantom path identification, and report generation.
*   [`rebuild/`](./rebuild/): The `rebuild/` directory orchestrates the project reconstruction pipeline using AI, managing session continuity via checkpoints, parsing AI-generated code, and structuring prompts for effective code generation from spec files.
*   [`specify/`](./specify/): This directory orchestrates the generation of AI-driven project specifications by defining prompt structures, constructing system and user prompts, and providing utilities to write the resulting specifications to disk with robust file handling.
*   [`types/`](./types/): This directory defines core TypeScript interfaces, including `ExcludedFile` for file exclusion details, `DiscoveryResult` for file discovery outcomes, and `DiscoveryStats` for reporting discovery metrics.
*   [`update/`](./update/): The `update` directory manages the incremental documentation update workflow, providing core interfaces like `UpdatePlan`, `UpdateResult`, and `UpdateProgress` through `types.ts`, orchestrating file cleanup of orphaned `.sum` and `AGENTS.md` files via `orphan-cleaner.ts`, and re-exporting these capabilities through its main `index.ts`.

## API Surface
The top-level `src` directory directly exposes `getVersion(): string` from `version.ts`. Comprehensive API surfaces for specific functionalities are provided by each subdirectory, as detailed in their respective AGENTS.md documentation.

## File Relationships
`version.ts` reads `package.json` to obtain the project's version string.
<!-- Generated by agents-reverse-engineer -->

# src/types

Shared type definitions for file discovery results, exclusion metadata, and discovery statistics consumed by the discovery pipeline, orchestration runners, and CLI commands.

## Contents

### [index.ts](./index.ts)
Exports `ExcludedFile` (path + exclusion reason), `DiscoveryResult` (included files array + excluded file metadata), and `DiscoveryStats` (metrics with `totalFiles`, `includedFiles`, `excludedFiles`, `exclusionReasons` histogram).

## Exported Types

**ExcludedFile**
- `path: string` — Absolute or relative file path
- `reason: string` — Exclusion cause (gitignore pattern, binary file, vendor directory)

**DiscoveryResult**
- `files: string[]` — Files approved for analysis (passed filter chain)
- `excluded: ExcludedFile[]` — Rejected files with exclusion metadata

**DiscoveryStats**
- `totalFiles: number` — Sum of included + excluded files
- `includedFiles: number` — Count passing all filters
- `excludedFiles: number` — Count rejected by any filter
- `exclusionReasons: Record<string, number>` — Aggregated reason histogram mapping exclusion causes to counts

## Usage Across Modules

**Producers:**
- `src/discovery/run.ts` → `discoverFiles()` populates `DiscoveryResult` from `DirectoryWalker` output

**Consumers:**
- `src/orchestration/runner.ts` → `runGenerationPhase()` converts `DiscoveryResult.files` to task queue for Phase 1 worker pool
- `src/cli/discover.ts` → Computes `DiscoveryStats` from `DiscoveryResult.excluded` for GENERATION-PLAN.md output
- `src/generation/orchestrator.ts` → Ingests `files[]` for concurrent `.sum` file generation

**Related types:**
- `src/discovery/types.ts` — `DirectoryWalker`, `FileFilter` interfaces
- `src/orchestration/types.ts` — `Task`, `WorkerPoolOptions` abstractions
- `src/config/schema.ts` — `ConfigSchema` defining filter behavior (vendor directories, binary extensions, exclude patterns)
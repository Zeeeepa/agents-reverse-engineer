---
generated_at: 2026-02-09T14:09:46.353Z
content_hash: 38568303038b8592202e7cb3a10296983279d31d0297e87048561aa7d45cc41e
purpose: Defines shared TypeScript interfaces for file discovery results, exclusion metadata, and discovery statistics used ac...
---
**Defines shared TypeScript interfaces for file discovery results, exclusion metadata, and discovery statistics used across ARE modules.**

## Exported Interfaces

**ExcludedFile** — Metadata for files excluded from analysis:
- `path: string` — Absolute or relative path to excluded file
- `reason: string` — Exclusion cause (e.g., "gitignore pattern", "binary file", "vendor directory")

**DiscoveryResult** — Output of file discovery process consumed by generation pipeline:
- `files: string[]` — File paths approved for analysis (passes all filters)
- `excluded: ExcludedFile[]` — Files rejected with reasons

**DiscoveryStats** — Aggregated metrics for discovery reporting and logging:
- `totalFiles: number` — Count of all files found during traversal
- `includedFiles: number` — Count of files approved for analysis
- `excludedFiles: number` — Count of files rejected by filters
- `exclusionReasons: Record<string, number>` — Histogram of exclusion reasons (keyed by `reason` string, valued by frequency)

## Integration Points

Consumed by:
- `src/discovery/run.ts` — Populates `DiscoveryResult` and `DiscoveryStats` from walker output
- `src/cli/discover.ts` — Formats `DiscoveryStats` for CLI reporting
- `src/generation/orchestrator.ts` — Reads `DiscoveryResult.files` for Phase 1 task queue
- `src/orchestration/plan-tracker.ts` — Uses `DiscoveryResult` for GENERATION-PLAN.md serialization
- `src/quality/` — Validates `DiscoveryResult.files` against generated documentation

Produced by:
- `src/discovery/walker.ts` — Aggregates filter chain results into `DiscoveryResult`
- `src/discovery/filters/` — Each filter (gitignore, binary, vendor, custom) appends to `ExcludedFile[]` with filter-specific reasons
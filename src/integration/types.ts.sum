---
generated_at: 2026-02-09T14:09:20.446Z
content_hash: 01bab7b9592390c583c058793bcf28fce57c72b8240bc084c0dbde7a8a9a5af1
purpose: Defines type contracts for AI coding assistant environment detection and integration template generation.
---
**Defines type contracts for AI coding assistant environment detection and integration template generation.**

## Exported Types

**EnvironmentType** — String literal union `'claude' | 'opencode' | 'aider' | 'gemini'` representing supported AI assistant platforms.

**DetectedEnvironment** — Interface with `type: EnvironmentType`, `configDir: string` (e.g., `.claude`, `.opencode`), and `detected: boolean` flag indicating environment presence.

**IntegrationTemplate** — Interface with `filename: string`, `path: string` (relative from project root), and `content: string` (template body for command files or hooks).

**IntegrationResult** — Interface with `environment: EnvironmentType`, `filesCreated: string[]` (successfully written paths), and `filesSkipped: string[]` (existing files not overwritten).

## Integration Points

Used by `src/integration/detect.ts` to return `DetectedEnvironment[]` from environment detection logic.

Consumed by `src/integration/generate.ts` to produce `IntegrationResult` after writing `IntegrationTemplate[]` to filesystem.

Consumed by `src/installer/` module for npx-based command and hook installation workflows.

## Domain Context

**DetectedEnvironment.configDir** stores platform-specific configuration directories: `~/.claude` for Claude Code, `~/.config/opencode` for OpenCode, `~/.gemini` for Gemini CLI, `.aider` for Aider.

**IntegrationTemplate.path** follows platform conventions: `.claude/skills/<name>/SKILL.md` for Claude commands with frontmatter `name: /<cmd>`, `.opencode/commands/<name>.md` for OpenCode with frontmatter `agent: build`, `.gemini/commands/<name>.toml` for Gemini TOML format.

**IntegrationResult.filesSkipped** prevents overwriting user-customized command files during reinstallation or updates.
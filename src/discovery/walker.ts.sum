---
generated_at: 2026-02-09T21:28:48.862Z
content_hash: 0b650816448410020359156db770fd210d4a43af3b7a142e9ff6beea1a68899d
purpose: walkDirectory() wraps fast-glob to traverse directories, returning all absolute file paths with performance optimizat...
---
**walkDirectory() wraps fast-glob to traverse directories, returning all absolute file paths with performance optimizations (`.git` exclusion, symlink control, permission error suppression) but no filtering logic (deferred to filter chain in `src/discovery/filters/`).**

## Exported Function

`walkDirectory(options: WalkerOptions): Promise<string[]>` — Async function returning absolute paths for all files discovered via `fg.glob('**/*', ...)` with configuration from `WalkerOptions`.

## WalkerOptions Interface

Expects `WalkerOptions` type (defined in `src/discovery/types.ts`) with fields:
- `cwd` — Base directory for traversal (required)
- `dot` — Include dotfiles (optional, defaults to `true`)
- `followSymlinks` — Follow symbolic links (optional, defaults to `false`)

## fast-glob Configuration

Passes following parameters to `fg.glob()`:
- `cwd: options.cwd` — Base directory
- `absolute: true` — Returns absolute paths instead of relative
- `onlyFiles: true` — Excludes directories from results
- `dot: options.dot ?? true` — Includes hidden files by default
- `followSymbolicLinks: options.followSymlinks ?? false` — Disables symlink traversal by default
- `suppressErrors: true` — Continues on permission errors (per RESEARCH.md design decision)
- `ignore: ['**/.git/**']` — Hardcoded exclusion of `.git` internals for performance

## Design Constraint

Does NOT apply filtering logic for gitignore patterns, binary detection, vendor directories, or custom globs. Filtering happens via separate filter chain modules (`src/discovery/filters/gitignore.ts`, `src/discovery/filters/binary.ts`, `src/discovery/filters/vendor.ts`, `src/discovery/filters/custom.ts`) after `walkDirectory()` returns raw file list.
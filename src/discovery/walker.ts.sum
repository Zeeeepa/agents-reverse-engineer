---
generated_at: 2026-02-09T14:08:48.606Z
content_hash: 0b650816448410020359156db770fd210d4a43af3b7a142e9ff6beea1a68899d
purpose: walkDirectory function provides fast-glob-based directory traversal returning all files without filtering.
---
**walkDirectory function provides fast-glob-based directory traversal returning all files without filtering.**

## Exported Function

**walkDirectory(options: WalkerOptions): Promise<string[]>**
- Returns all files in directory tree as absolute paths
- Delegates to `fg.glob('**/*', {...})` from fast-glob library
- Filtering intentionally deferred to separate filter chain (gitignore, binary, vendor, custom patterns per filter chain architecture)
- Always excludes `.git/**` for performance optimization
- Suppresses permission errors via `suppressErrors: true` to continue traversal on inaccessible directories

## Configuration

**WalkerOptions fields:**
- `cwd`: root directory for traversal
- `dot`: include dotfiles (defaults to true)
- `followSymlinks`: follow symbolic links (defaults to false per config schema `followSymlinks` flag)

## fast-glob Settings

- `absolute: true` returns full paths (consumed by filter chain expecting absolute paths)
- `onlyFiles: true` excludes directories from results
- `ignore: ['**/.git/**']` hardcoded exclusion regardless of gitignore rules

## Integration Points

- Called by `runDiscovery()` in `src/discovery/run.ts` before applying filter chain
- Filter separation pattern documented in file header comment and RESEARCH.md reference
- Output consumed by `applyGitignoreFilter`, `applyBinaryFilter`, `applyVendorFilter`, `applyCustomFilter` from `src/discovery/filters/index.ts`
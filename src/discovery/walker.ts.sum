---
generated_at: 2026-02-09T15:06:53.055Z
content_hash: 0b650816448410020359156db770fd210d4a43af3b7a142e9ff6beea1a68899d
purpose: walkDirectory traverses directory trees via fast-glob and returns all file paths before filter-chain application.
---
**walkDirectory traverses directory trees via fast-glob and returns all file paths before filter-chain application.**

## Exported Function

`walkDirectory(options: WalkerOptions): Promise<string[]>` — Returns absolute paths for all files in directory tree via `fg.glob('**/*')`. Applies no filtering except hardcoded `.git` exclusion; gitignore/binary/vendor/custom filtering happens separately via `src/discovery/filters/index.ts` chain.

## fast-glob Configuration

- `cwd: options.cwd` — Base directory for traversal
- `absolute: true` — Returns absolute paths (not relative)
- `onlyFiles: true` — Excludes directories from results
- `dot: options.dot ?? true` — Includes dotfiles by default
- `followSymbolicLinks: options.followSymlinks ?? false` — Symlink handling (default: skip)
- `suppressErrors: true` — Continues on permission errors per `docs/RESEARCH.md` design
- `ignore: ['**/.git/**']` — Performance optimization excluding git internals

## Integration Points

Consumed by `src/discovery/run.ts` which pipes output through filter chain (`gitignoreFilter`, `binaryFilter`, `vendorFilter`, `customFilter`) to produce final `DiscoveryResult`. Depends on `WalkerOptions` type from `src/discovery/types.ts` with `cwd`, `dot`, `followSymlinks` properties.

## Design Pattern

Separation of concerns: walker handles traversal, filters handle exclusion. Contrasts with monolithic approaches where glob patterns encode filtering logic. Enables composable filter chains and centralized filter testing.
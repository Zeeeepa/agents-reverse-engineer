---
generated_at: 2026-02-09T17:44:52.902Z
content_hash: 0b650816448410020359156db770fd210d4a43af3b7a142e9ff6beea1a68899d
purpose: walkDirectory() wraps fast-glob to return all file paths in a directory tree, delegating filtering to the separate fi...
---
**walkDirectory() wraps fast-glob to return all file paths in a directory tree, delegating filtering to the separate filter chain.**

## Exported Function

```typescript
async function walkDirectory(options: WalkerOptions): Promise<string[]>
```

Returns array of absolute file paths from `fg.glob('**/*', {...})` invocation. Accepts `WalkerOptions` with fields `cwd` (required base directory), `dot` (include dotfiles, defaults true), and `followSymlinks` (defaults false).

## Glob Configuration

Passes these options to `fg.glob()`:
- `absolute: true` — returns full paths, not relative
- `onlyFiles: true` — excludes directories from results
- `dot: options.dot ?? true` — includes dotfiles by default
- `followSymbolicLinks: options.followSymlinks ?? false` — does not traverse symlinks by default
- `suppressErrors: true` — silently skips permission denied errors per `RESEARCH.md` directive
- `ignore: ['**/.git/**']` — hardcoded exclusion for `.git` internals to improve performance

## Filter Chain Decoupling

Does NOT apply gitignore, binary, vendor, or custom pattern filters. Module comment explicitly states "Filters are applied separately via the filter chain (not in this module)." The `src/discovery/filters/` directory contains the actual filter implementations (binary.ts, custom.ts, gitignore.ts, vendor.ts).

## Dependencies

Imports `fg` from `fast-glob` (glob engine) and `WalkerOptions` from `./types.js` (type-only import).
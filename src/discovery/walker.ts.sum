---
generated_at: 2026-02-09T16:10:01.186Z
content_hash: 0b650816448410020359156db770fd210d4a43af3b7a142e9ff6beea1a68899d
purpose: walker.ts implements directory traversal via fast-glob for ARE's file discovery pipeline.
---
**walker.ts implements directory traversal via fast-glob for ARE's file discovery pipeline.**

## Exported Function

`walkDirectory(options: WalkerOptions): Promise<string[]>` returns absolute paths to all files in directory tree. Uses `fg.glob('**/*', ...)` with cwd-relative traversal. Returns unfiltered file list—filtering applied separately by filter chain in `src/discovery/filters/`.

## Configuration Options

Consumes `WalkerOptions` interface with:
- `cwd: string` — Base directory for glob traversal
- `dot?: boolean` — Include dotfiles (default `true`)
- `followSymlinks?: boolean` — Follow symbolic links (default `false`)

## fast-glob Parameters

Passes these options to `fg.glob()`:
- `absolute: true` — Return absolute paths (not relative)
- `onlyFiles: true` — Exclude directories from results
- `suppressErrors: true` — Ignore permission errors per RESEARCH.md requirement
- `ignore: ['**/.git/**']` — Hard-coded exclusion for `.git` internals (performance optimization)

## Integration Points

Called by `src/discovery/run.ts` which applies post-traversal filters: gitignore patterns via `src/discovery/filters/gitignore.ts`, binary detection via `src/discovery/filters/binary.ts`, vendor directories via `src/discovery/filters/vendor.ts`, custom glob patterns via `src/discovery/filters/custom.ts`. Walker does not inspect file contents or apply business logic—purely delegates to fast-glob's optimized filesystem traversal.
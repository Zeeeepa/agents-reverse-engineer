---
generated_at: 2026-02-09T15:06:53.406Z
content_hash: 4c45840b650bc80b1f64e7a9fdcb91facda8d7364bf0159ba9453de1df0fcb92
purpose: Defines core TypeScript interfaces for file discovery pipeline operations: FileFilter contract, FilterResult output, ...
---
**Defines core TypeScript interfaces for file discovery pipeline operations: FileFilter contract, FilterResult output, ExcludedFile records, and WalkerOptions configuration.**

## Exported Interfaces

**FileFilter**
```typescript
interface FileFilter {
  readonly name: string;
  shouldExclude(path: string, stats?: Stats): Promise<boolean> | boolean;
}
```
Contract for composable filters in discovery chain. Implementations include GitignoreFilter, BinaryFilter, VendorFilter, CustomPatternFilter (see `src/discovery/filters/`). Method `shouldExclude()` returns true to exclude file from analysis, false to include. Supports sync and async filtering strategies. Optional `stats` parameter from `node:fs` enables size-based or metadata-based exclusion.

**ExcludedFile**
```typescript
interface ExcludedFile {
  path: string;
  reason: string;
  filter: string;
}
```
Records metadata for excluded files. Field `path` stores absolute path, `reason` provides human-readable explanation, `filter` identifies which FileFilter triggered exclusion (matches `FileFilter.name`).

**FilterResult**
```typescript
interface FilterResult {
  included: string[];
  excluded: ExcludedFile[];
}
```
Output of discovery filter chain. Array `included` contains absolute paths passing all filters, `excluded` contains rejection metadata for debugging/logging.

**WalkerOptions**
```typescript
interface WalkerOptions {
  cwd: string;
  followSymlinks?: boolean;
  dot?: boolean;
}
```
Configuration for directory traversal. Field `cwd` specifies root directory (absolute path), `followSymlinks` defaults to false per security constraints, `dot` defaults to true to include dotfiles (`.eslintrc`, `.gitignore`, etc.) in analysis.

## Integration Points

Consumed by `walkDirectoryWithFilters()` in `src/discovery/walker.ts` for filter chain orchestration. Filter implementations in `src/discovery/filters/` (binary.ts, gitignore.ts, vendor.ts, custom.ts) implement FileFilter interface. Discovery results flow to `src/cli/discover.ts` and `src/generation/orchestrator.ts` for phase 1 file analysis.

## Type Dependencies

Imports `Stats` from `node:fs` for optional file metadata passing to `shouldExclude()`. No runtime dependenciesâ€”pure type definitions module.
---
generated_at: 2026-02-09T17:44:52.054Z
content_hash: 4c45840b650bc80b1f64e7a9fdcb91facda8d7364bf0159ba9453de1df0fcb92
purpose: Defines core TypeScript interfaces for the file discovery pipeline: FileFilter for composable exclusion predicates, F...
---
**Defines core TypeScript interfaces for the file discovery pipeline: FileFilter for composable exclusion predicates, FilterResult for discovery outcomes, WalkerOptions for traversal configuration, and ExcludedFile for audit trails.**

## Exported Interfaces

**FileFilter** — Contract for composable file exclusion predicates in the discovery filter chain. Exposes `name: string` for audit logging and `shouldExclude(path: string, stats?: Stats): Promise<boolean> | boolean` for synchronous or asynchronous exclusion decisions. Implemented by GitignoreFilter, BinaryFilter, VendorFilter, CustomPatternFilter.

**ExcludedFile** — Record structure for excluded files with `path: string` (absolute path), `reason: string` (human-readable exclusion explanation), `filter: string` (name of the FileFilter that triggered exclusion).

**FilterResult** — Discriminated discovery outcome containing `included: string[]` (absolute paths passing all filters) and `excluded: ExcludedFile[]` (rejected files with exclusion metadata).

**WalkerOptions** — Configuration for directory traversal with `cwd: string` (absolute root path), `followSymlinks?: boolean` (default false per CONTEXT.md), `dot?: boolean` (include dotfiles, default true).

## Integration Points

Consumed by `src/discovery/walker.ts` for traversal configuration and `src/discovery/filters/` implementations (binary.ts, gitignore.ts, vendor.ts, custom.ts) for FileFilter contract adherence. FilterResult returned by `src/discovery/run.ts` aggregates results across the filter chain. Stats type imported from `node:fs` enables size-based filtering (see BinaryFilter with maxFileSize threshold).
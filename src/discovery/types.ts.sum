---
generated_at: 2026-02-09T16:10:02.027Z
content_hash: 4c45840b650bc80b1f64e7a9fdcb91facda8d7364bf0159ba9453de1df0fcb92
purpose: types.ts defines TypeScript interfaces for the file discovery system's filter chain architecture, including filter co...
---
**types.ts defines TypeScript interfaces for the file discovery system's filter chain architecture, including filter contracts, exclusion metadata, and walker configuration.**

## Exported Interfaces

**FileFilter** — Filter contract with two properties:
- `name: string` (readonly) identifies which filter excluded a file for logging
- `shouldExclude(path: string, stats?: Stats): Promise<boolean> | boolean` determines file inclusion (returns true to exclude)

Takes absolute file path and optional `Stats` from `node:fs` for size-based or metadata filtering. Supports both sync and async implementations. Known implementations: GitignoreFilter, BinaryFilter, VendorFilter, CustomPatternFilter (per inline documentation).

**ExcludedFile** — Exclusion record with three properties:
- `path: string` absolute path to excluded file
- `reason: string` human-readable exclusion explanation
- `filter: string` name of the filter that excluded the file

Used to track why files were rejected during discovery pipeline execution.

**FilterResult** — Discovery pipeline output with two properties:
- `included: string[]` files passing all filters (ready for analysis)
- `excluded: ExcludedFile[]` rejected files with metadata

Aggregates results from filter chain execution across all discovered files.

**WalkerOptions** — Directory traversal configuration with three properties:
- `cwd: string` root directory for walking (absolute path, required)
- `followSymlinks?: boolean` whether to traverse symlinks (default false per CONTEXT.md)
- `dot?: boolean` whether to include dotfiles starting with `.` (default true for analysis)

Passed to directory walker to control filesystem traversal behavior.

## Integration Points

All interfaces consumed by `src/discovery/walker.ts` (directory walker) and `src/discovery/filters/` implementations (gitignore.ts, binary.ts, vendor.ts, custom.ts). The `FileFilter` interface enables composable filter chains where each filter can independently reject files. The `Stats` parameter in `shouldExclude()` allows filters to inspect file metadata without additional filesystem calls.
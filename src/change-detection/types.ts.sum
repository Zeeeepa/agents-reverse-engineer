---
generated_at: 2026-02-09T14:08:28.076Z
content_hash: 78cff2ed3b8efd6a7641dbc57fffa5d8b41fc24da285f3d31326bfc74d582b82
purpose: Defines TypeScript interfaces and type aliases for git-based change detection representing file modifications, additi...
---
**Defines TypeScript interfaces and type aliases for git-based change detection representing file modifications, additions, deletions, and renames with associated metadata.**

## Exported Types

### ChangeType
Type alias for discriminating file change status: `'added' | 'modified' | 'deleted' | 'renamed'`.

### FileChange
Interface representing a single detected file change:
- `path: string` — Relative file path (new path for renames)
- `status: ChangeType` — Discriminant field for change type
- `oldPath?: string` — Original path for renamed files (present only when `status === 'renamed'`)

### ChangeDetectionResult
Interface returned by change detection operations:
- `currentCommit: string` — HEAD commit SHA
- `baseCommit: string` — Comparison baseline commit SHA
- `changes: FileChange[]` — Array of detected file changes
- `includesUncommitted: boolean` — Flag indicating whether working tree changes were merged

### ChangeDetectionOptions
Configuration interface for change detection behavior:
- `includeUncommitted?: boolean` — When true, merges staged and working directory changes with committed diff

## Usage Context

Consumed by `src/change-detection/detector.ts` for git diff parsing (`git diff --name-status -M`) with rename detection and `src/update/orchestrator.ts` for incremental update workflows that compute `filesToAnalyze` and `filesToSkip` arrays via SHA-256 content hash comparison against `.sum` file frontmatter.

The `oldPath` field in `FileChange` enables orphan cleanup logic in `src/update/orphan-cleaner.ts` to delete stale `.sum` files for renamed source files.
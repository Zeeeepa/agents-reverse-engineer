---
generated_at: 2026-02-09T21:28:23.092Z
content_hash: c77dda0aa1a589b4b753f5790ede7d263fca6eb7a99f509b4e07fe04bf0e20f8
purpose: Re-exports git-based change detection functions and types from `detector.ts` and `types.ts` for incremental update wo...
---
**Re-exports git-based change detection functions and types from `detector.ts` and `types.ts` for incremental update workflows.**

## Exported Functions

- `isGitRepo(): Promise<boolean>` — checks if current working directory is a git repository
- `getCurrentCommit(): Promise<string>` — retrieves current HEAD commit SHA
- `getChangedFiles(options: ChangeDetectionOptions): Promise<ChangeDetectionResult>` — detects added/modified/deleted/renamed files via git diff, returns `ChangeDetectionResult` with `changes: FileChange[]` array
- `computeContentHash(filePath: string): Promise<string>` — computes SHA-256 hash of file content (reads file from disk)
- `computeContentHashFromString(content: string): string` — computes SHA-256 hash of string content (synchronous, no I/O)

## Exported Types

- `ChangeType` — discriminated union literal: `'added' | 'modified' | 'deleted' | 'renamed'`
- `FileChange` — object with `path: string`, `status: ChangeType`, optional `oldPath?: string` (for renames)
- `ChangeDetectionResult` — object with `changes: FileChange[]`, `baseCommit?: string`, `includesUncommitted: boolean`
- `ChangeDetectionOptions` — configuration object controlling git diff scope (base commit, uncommitted flag, path filters)

## Module Purpose

Serves as public API surface for `src/change-detection/` module, consumed by `src/update/orchestrator.ts` and `src/cli/update.ts` to compute file delta sets for incremental `.sum` regeneration. Hash comparison workflow: read `.sum` frontmatter `content_hash`, call `computeContentHash()` on current file, compare SHA-256 hex strings to detect modifications.
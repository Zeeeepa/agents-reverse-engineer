<!-- Generated by agents-reverse-engineer v1.0.1 -->

# src/change-detection
The `src/change-detection` directory provides utilities for detecting changes in a Git repository, including identifying changed files between commits and computing content hashes of files. It encapsulates Git-related operations and defines types for representing file change information.

## Contents
- [`detector.ts`](./detector.ts): Implements Git change detection functions, including `isGitRepo`, `getCurrentCommit`, `getChangedFiles`, `computeContentHash`, and `computeContentHashFromString`.
- [`index.ts`](./index.ts): Serves as the public API surface, re-exporting core functions and types from `detector.ts` and `types.ts`.
- [`types.ts`](./types.ts): Defines data structures such as `ChangeType`, `FileChange`, `ChangeDetectionResult`, and `ChangeDetectionOptions` used throughout the change detection process.

## API Surface
The `index.ts` module exports `isGitRepo`, `getCurrentCommit`, `getChangedFiles`, `computeContentHash`, `computeContentHashFromString` for Git repository interaction and content hashing. It also exports `ChangeType`, `FileChange`, `ChangeDetectionResult`, `ChangeDetectionOptions` as type definitions.

## File Relationships
`detector.ts` depends on `types.ts` for its type definitions like `FileChange`, `ChangeDetectionResult`, and `ChangeDetectionOptions`. `index.ts` aggregates and re-exports the functionalities from `detector.ts` and the type definitions from `types.ts` to form a cohesive public interface for the `change-detection` module.

## Behavioral Contracts
`getChangedFiles` in `detector.ts` parses `git diff --name-status -M` output, recognizing `A`, `M`, `D`, `R` status codes for `FileChange` array population. `computeContentHash` and `computeContentHashFromString` utilize `node:crypto.createHash('sha256')` for cryptographic hashing operations.
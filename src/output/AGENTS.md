<!-- Generated by agents-reverse-engineer -->

# src/output

Terminal output formatting layer providing color-aware Logger interface for CLI messages with optional ANSI styling via picocolors.

## Contents

**[logger.ts](./logger.ts)** — Exports `createLogger(options)` factory constructing color-aware Logger instances writing to console.log/warn/error with picocolors-based ANSI formatting, `createSilentLogger()` returning no-op Logger for testing, `Logger` interface defining six output methods (info/file/excluded/summary/warn/error), and `LoggerOptions` schema controlling color enablement.

## API Surface

**Logger interface:**
- `info(message: string): void` — informational messages (plain text)
- `file(path: string): void` — discovered file paths (`"  +" + path` in green)
- `excluded(path: string, reason: string, filter: string): void` — excluded files (`"  -" + path + " (reason: filter)"` dimmed)
- `summary(included: number, excluded: number): void` — discovery count summary (`"Discovered N files (M excluded)"` with bold/dim styling)
- `warn(message: string): void` — warning messages (`"Warning: " + message` in yellow)
- `error(message: string): void` — error messages (`"Error: " + message` in red)

**Factory functions:**
- `createLogger(options: LoggerOptions): Logger` — constructs color-aware logger respecting `options.colors` boolean flag
- `createSilentLogger(): Logger` — returns no-op logger with all methods bound to empty function

**Configuration:**
- `LoggerOptions` — schema with single `colors: boolean` field controlling ANSI escape code emission

## Output Format Specification

Logger implements CONTEXT.md-defined format with mandatory prefixes and styling:
- Discovered files: `"  +"` prefix green-styled followed by space and path
- Excluded files: `"  -"` prefix dimmed followed by path and parenthetical `(reason: filter)`
- Summary line: bold `"Discovered N files"` followed by dimmed `" (M excluded)"`
- Warnings: `"Warning: "` yellow-styled prefix
- Errors: `"Error: "` red-styled prefix

When `options.colors === false`, all picocolors transforms replaced with identity function via `noColor` object mapping `green`/`dim`/`red`/`bold`/`yellow` to pass-through.

## Integration Points

Used by:
- `src/discovery/run.ts` — `discoverFiles()` accepts Logger for real-time file discovery progress reporting
- `src/cli/*.ts` — Command entry points construct logger via `createLogger({ colors: config.output.colors })` from loaded configuration
- Test suites — `createSilentLogger()` suppresses output during programmatic invocation

Imports:
- `picocolors` (aliased `pc`) — ANSI color code generation library
---
generated_at: 2026-02-09T21:30:23.911Z
content_hash: 879100cdd04f7597c7afab3563e6d72212a2e1f2197ade1c1baa1dfd0fd4139f
purpose: Barrel export module exposing UpdateOrchestrator, cleanupOrphans, cleanupEmptyDirectoryDocs, getAffectedDirectories, ...
---
**Barrel export module exposing UpdateOrchestrator, cleanupOrphans, cleanupEmptyDirectoryDocs, getAffectedDirectories, and TypeScript types for incremental documentation updates.**

## Exported Symbols

**UpdateOrchestrator** — class exported from `./orchestrator.js` coordinating incremental update workflow with change detection, orphan cleanup, and selective regeneration

**createUpdateOrchestrator** — factory function exported from `./orchestrator.js` constructing UpdateOrchestrator instances with dependency injection

**UpdatePlan** — type exported from `./orchestrator.js` representing planned update operations (files to analyze, skip, delete; affected directories)

**cleanupOrphans** — function exported from `./orphan-cleaner.js` removing stale `.sum` files for deleted source files or renamed oldPaths

**cleanupEmptyDirectoryDocs** — function exported from `./orphan-cleaner.js` deleting `AGENTS.md` files from directories with no remaining source files after cleanup

**getAffectedDirectories** — function exported from `./orphan-cleaner.js` computing directories requiring `AGENTS.md` regeneration by walking parent paths of changed files

**UpdateOptions** — type exported from `./types.js` parameterizing update behavior (includeUncommitted flag, baseCommit, concurrency, timeout, retries)

**UpdateResult** — type exported from `./types.js` representing update outcome with counts for analyzed/skipped/deleted files, affected directories, success status

**UpdateProgress** — type exported from `./types.js` describing update progress events emitted during execution (phase transitions, file completions, error reports)

**CleanupResult** — type exported from `./types.js` representing orphan cleanup outcome with arrays of deleted `.sum` files and removed directory docs

## Module Purpose

Centralizes incremental update API surface as public interface for `src/cli/update.ts` command entry point. Separates orchestration logic (UpdateOrchestrator in `./orchestrator.js`) from cleanup utilities (orphan-cleaner functions) and type definitions (`./types.js`). Enables consumers to import only required symbols without loading implementation details from sibling modules.

## Integration Context

Invoked by `src/cli/update.ts` command handler which constructs UpdateOrchestrator via createUpdateOrchestrator factory, passes CommandRunOptions with tracer/progress reporters, and executes UpdateOrchestrator.update() method. UpdateOrchestrator internally calls `src/change-detection/detector.ts` for SHA-256 hash comparison, cleanupOrphans for `.sum` deletion, getAffectedDirectories for directory scope calculation, and `src/generation/executor.ts` for Phase 1 file regeneration and Phase 2 directory aggregation (skips Phase 3 root synthesis).
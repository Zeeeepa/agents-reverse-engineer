---
generated_at: 2026-02-09T16:11:15.215Z
content_hash: 879100cdd04f7597c7afab3563e6d72212a2e1f2197ade1c1baa1dfd0fd4139f
purpose: Module barrel for incremental update functionality exporting UpdateOrchestrator, orchestrator factory, cleanup utilit...
---
**Module barrel for incremental update functionality exporting UpdateOrchestrator, orchestrator factory, cleanup utilities, and type definitions.**

## Exported Symbols

### From `./orchestrator.js`
- **UpdateOrchestrator** (class) — Coordinates incremental update workflow with state management and change detection
- **createUpdateOrchestrator** (factory function) — Creates UpdateOrchestrator instance
- **UpdatePlan** (type) — Describes files to analyze/skip and directories to regenerate

### From `./orphan-cleaner.js`
- **cleanupOrphans** (function) — Deletes `.sum` files for deleted source files or renamed oldPaths
- **cleanupEmptyDirectoryDocs** (function) — Removes `AGENTS.md` from directories with no remaining sources
- **getAffectedDirectories** (function) — Computes parent directory paths requiring AGENTS.md regeneration by walking up from changed files

### From `./types.js`
- **UpdateOptions** (type) — Configuration for update command including uncommitted changes flag
- **UpdateResult** (type) — Aggregated outcome with counts for analyzed/skipped/orphaned files
- **UpdateProgress** (type) — Streaming progress events during update execution
- **CleanupResult** (type) — Counts of orphaned `.sum` files and empty `AGENTS.md` files removed

## Integration Points

Re-exports types and functions consumed by:
- `src/cli/update.ts` — CLI entry point invoking `createUpdateOrchestrator()` with parsed options
- `src/update/orchestrator.ts` — Core incremental update logic calling `cleanupOrphans()` and `getAffectedDirectories()`
- `hooks/are-session-end.js` — Session hook spawning `npx agents-reverse-engineer@latest update --quiet` on uncommitted changes

## Module Role

Serves as public API boundary for the `src/update/` directory, exposing only the orchestrator, factory, cleanup utilities, and type contracts while hiding internal implementation details of SHA-256 hash comparison, git diff parsing, and orphan detection logic.
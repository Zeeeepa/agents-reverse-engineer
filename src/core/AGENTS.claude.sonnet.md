<!-- Generated by agents-reverse-engineer v1.1.0 -->

# src/core

Public API entrypoint for programmatic access to agents-reverse-engineer engine, re-exporting types and functions from 20+ internal modules under `'agents-reverse-engineer/core'` subpath (see `package.json` exports field). All exports marked `@beta` until v1.0.0.

## Contents

- [`index.ts`](./index.ts): Re-exports `Logger`/`nullLogger`/`consoleLogger` (logging), `AIService`/`AIServiceError`/`AIProvider`/`AIBackend`/`withRetry`/`DEFAULT_RETRY_OPTIONS`/`SubprocessProvider` (AI abstraction), `discoverFiles`/`walkDirectory`/`applyFilters`/`FileFilter`/`WalkerOptions` (discovery), `buildFilePrompt`/`buildDirectoryPrompt`/`detectLanguage`/`PromptContext` (prompt generation), `writeSumFile`/`readSumFile`/`getSumPath`/`sumFileExists`/`getAnnexPath`/`writeAnnexFile`/`SumFileContent`/`writeAgentsMd`/`writeAgentsMdHub`/`isGeneratedAgentsMd`/`writeClaudeMdPointer` (writers), `DocumentationOrchestrator`/`GenerationOrchestrator`/`UpdateOrchestrator`/`GenerationPlan`/`PreparedFile`/`AnalysisTask`/`UpdatePlan`/`buildExecutionPlan`/`formatExecutionPlanAsMarkdown`/`ExecutionPlan`/`ExecutionTask`/`runPool`/`PoolOptions`/`TaskResult` (orchestration), `extractExports`/`checkCodeVsDoc`/`checkCodeVsCode`/`checkPhantomPaths`/`buildInconsistencyReport`/`formatReportForCli`/`formatReportAsMarkdown`/`Inconsistency`/`InconsistencyReport`/`InconsistencySeverity`/`CodeDocInconsistency`/`CodeCodeInconsistency`/`PhantomPathInconsistency` (quality checks), `computeContentHash`/`computeContentHashFromString`/`isGitRepo`/`getCurrentCommit`/`getChangedFiles`/`FileChange`/`ChangeDetectionResult` (change detection), `loadConfig`/`findProjectRoot`/`ConfigSchema`/`Config`/`getDefaultConcurrency`/`DEFAULT_EXCLUDE_PATTERNS`/`DEFAULT_VENDOR_DIRS` (config), `extractImports`/`extractDirectoryImports`/`formatImportMap` (import analysis).
- [`logger.ts`](./logger.ts): Defines `Logger` interface (`debug`/`warn`/`error` methods accepting string), `nullLogger` (no-op singleton), `consoleLogger` (stderr-based implementation via `console.error`).

## API Surface

Exports grouped by functional area:

**Logging**: `Logger` (interface), `nullLogger` (no-op), `consoleLogger` (stderr writer).

**AI Service**: `AIService` (class), `AIServiceOptions`/`AIProvider`/`AICallOptions`/`AIResponse`/`AIBackend`/`RetryOptions`/`AIServiceErrorCode` (types), `AIServiceError` (error), `withRetry` (retry wrapper), `DEFAULT_RETRY_OPTIONS` (3 retries, 1s base, 8s max, 2x multiplier), `SubprocessProvider` (subprocess executor).

**Discovery**: `discoverFiles` (entry), `walkDirectory` (traversal), `applyFilters` (filter chain), `FileFilter`/`FilterResult`/`WalkerOptions` (types).

**Prompt Generation**: `buildFilePrompt`/`buildDirectoryPrompt` (prompt builders), `detectLanguage` (language detection), `PromptContext` (type).

**Writers**: `writeSumFile`/`readSumFile`/`getSumPath`/`sumFileExists`/`getAnnexPath`/`writeAnnexFile`/`SumFileContent` (`.sum` file I/O), `writeAgentsMd`/`writeAgentsMdHub`/`isGeneratedAgentsMd` (`AGENTS.md` writers), `writeClaudeMdPointer` (`CLAUDE.md` pointer).

**Orchestration**: `DocumentationOrchestrator`/`GenerationOrchestrator`/`UpdateOrchestrator` (orchestrator class aliases), `GenerationPlan`/`PreparedFile`/`AnalysisTask`/`UpdatePlan` (plan types), `buildExecutionPlan`/`formatExecutionPlanAsMarkdown`/`ExecutionPlan`/`ExecutionTask` (execution planning), `runPool`/`PoolOptions`/`TaskResult` (concurrent task runner).

**Quality Checks**: `extractExports` (code parsing), `checkCodeVsDoc` (code-doc consistency), `checkCodeVsCode` (cross-file consistency), `checkPhantomPaths` (path validation), `buildInconsistencyReport`/`formatReportForCli`/`formatReportAsMarkdown` (reporting), `Inconsistency`/`InconsistencyReport`/`InconsistencySeverity`/`CodeDocInconsistency`/`CodeCodeInconsistency`/`PhantomPathInconsistency` (inconsistency types).

**Change Detection**: `computeContentHash`/`computeContentHashFromString` (hashing), `isGitRepo`/`getCurrentCommit`/`getChangedFiles` (git operations), `FileChange`/`ChangeDetectionResult` (change types).

**Configuration**: `loadConfig`/`findProjectRoot` (config loader), `ConfigSchema` (Zod schema), `Config` (type), `getDefaultConcurrency`/`DEFAULT_EXCLUDE_PATTERNS`/`DEFAULT_VENDOR_DIRS` (defaults).

**Import Analysis**: `extractImports`/`extractDirectoryImports`/`formatImportMap` (import extraction).

## Behavioral Contracts

**Subpath Export**: `'agents-reverse-engineer/core'` resolves to `dist/core/index.js` (see `package.json` exports field).

**Stability**: All exports marked `@beta` until v1.0.0 (breaking changes possible).

**Retry Defaults**: `DEFAULT_RETRY_OPTIONS = { maxRetries: 3, baseDelayMs: 1000, maxDelayMs: 8000, multiplier: 2 }` (from `../ai/retry.ts`).

**Logger Contracts**:
- `nullLogger`: No-op implementation (all methods return void immediately)
- `consoleLogger`: Writes to stderr via `console.error()` with log level prefixes
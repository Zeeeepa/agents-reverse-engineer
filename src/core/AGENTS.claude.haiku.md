<!-- Generated by agents-reverse-engineer v0.9.10 -->

# src/core

The core module serves as the unified public API for agents-reverse-engineer, aggregating 40+ exports across logging, AI services, file discovery, documentation generation, quality checking, and orchestration â€” enabling single-import access to the entire library.

## Contents

### [index.ts](./index.ts)
Re-exports 40+ symbols from logging (`nullLogger`, `consoleLogger`, `Logger`), AI services (`AIService`, `withRetry`, `SubprocessProvider`), discovery (`discoverFiles`, `walkDirectory`, `applyFilters`), prompt generation (`buildFilePrompt`, `buildDirectoryPrompt`, `detectLanguage`), documentation writers (`writeSumFile`, `readSumFile`, `writeAgentsMd`), orchestration (`GenerationOrchestrator`, `buildExecutionPlan`), quality checks (`extractExports`, `checkCodeVsDoc`, `checkPhantomPaths`), change detection (`computeContentHash`, `getChangedFiles`), configuration (`loadConfig`, `findProjectRoot`, `DEFAULT_EXCLUDE_PATTERNS`), and imports (`extractImports`, `formatImportMap`). Module aggregates seven layers of functionality from sibling `../` paths (ai/, discovery/, generation/, orchestration/, quality/, change-detection/, config/, imports/) with no CLI-only dependencies in public API.

### [logger.ts](./logger.ts)
Defines `Logger` interface with `debug()`, `warn()`, `error()` methods, plus `nullLogger` (no-op) and `consoleLogger` (stderr) implementations. Enables dependency injection across core modules for decoupled output control.

## API Layers

**Logging**: `Logger` interface + `nullLogger`, `consoleLogger` implementations.

**AI Services**: `AIService` orchestrator, `SubprocessProvider` for external LLM calls, `withRetry()` wrapper with `RetryOptions` and `DEFAULT_RETRY_OPTIONS`.

**Discovery**: `discoverFiles()`, `walkDirectory()`, `applyFilters()` for file enumeration with `FileFilter` rules.

**Prompts**: `buildFilePrompt()`, `buildDirectoryPrompt()`, `detectLanguage()` with `PromptContext`.

**Writers**: `writeSumFile()`, `readSumFile()`, `writeAgentsMd()`, `writeAnnexFile()`, `writeClaudeMdPointer()` for documentation output.

**Orchestration**: `GenerationOrchestrator`, `buildExecutionPlan()`, `formatExecutionPlanAsMarkdown()` for multi-file analysis pipelines.

**Quality**: `extractExports()`, `checkCodeVsDoc()`, `checkCodeVsCode()`, `checkPhantomPaths()`, `buildInconsistencyReport()` for documentation validation.

**Change Detection**: `computeContentHash()`, `isGitRepo()`, `getCurrentCommit()`, `getChangedFiles()` for differential analysis.

**Configuration**: `loadConfig()`, `findProjectRoot()`, `getDefaultConcurrency()`, `DEFAULT_EXCLUDE_PATTERNS` for environment setup.

**Imports**: `extractImports()`, `extractDirectoryImports()`, `formatImportMap()` for dependency analysis.

## Design Pattern

Single aggregation point: consumers import from `@agents-reverse-engineer/core` (or `../core`) instead of navigating sibling module paths. Marked `@beta` until v1.0.0; API is stable but subject to refinement. Dependency injection (Logger parameter) decouples output behavior from library logic.
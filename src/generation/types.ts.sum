---
generated_at: 2026-02-09T21:29:08.586Z
content_hash: 170a8dbec49b601e218709256527ba0dbfa43f1f69e0aac7a6e7e3f9370fcb86
purpose: Defines TypeScript interfaces for the three-phase documentation generation pipeline: `AnalysisResult` for Phase 1 fil...
---
**Defines TypeScript interfaces for the three-phase documentation generation pipeline: `AnalysisResult` for Phase 1 file analysis outputs, `SummaryMetadata` for extracted file metadata, and `SummaryOptions` for summary generation configuration.**

## Exported Types

**`AnalysisResult`** — Return type for Phase 1 file analysis operations populated by LLM subprocess calls via `AIService.call()`. Contains two fields:
- `summary: string` — Generated markdown summary text written to `.sum` file body
- `metadata: SummaryMetadata` — Structured metadata written to YAML frontmatter

**`SummaryMetadata`** — Structured metadata extracted during file analysis and serialized as YAML frontmatter in `.sum` files. Fields:
- `purpose: string` — Single-line file purpose statement (mandatory)
- `criticalTodos?: string[]` — Optional array of security/breaking issues only (excludes routine TODOs)
- `relatedFiles?: string[]` — Optional array of tightly coupled sibling file paths

**`SummaryOptions`** — Configuration for summary generation behavior passed to prompt builders. Fields:
- `targetLength: 'short' | 'standard' | 'detailed'` — Controls summary verbosity level
- `includeCodeSnippets: boolean` — Toggles inclusion of code examples in generated summaries

## Integration Points

Referenced by:
- `src/generation/prompts/builder.ts` — Consumes `SummaryOptions` when constructing file analysis prompts
- `src/generation/executor.ts` — Produces `AnalysisResult` from AI subprocess responses, validates against schema
- `src/generation/writers/sum.ts` — Serializes `AnalysisResult.metadata` as YAML frontmatter via `yaml.stringify()`, writes `AnalysisResult.summary` as markdown body

## Schema Constraints

No runtime validation types exported (Zod schemas located elsewhere). `SummaryMetadata.purpose` is mandatory while `criticalTodos` and `relatedFiles` are optional arrays. Empty arrays should be omitted (undefined) rather than serialized as `[]` in YAML frontmatter.
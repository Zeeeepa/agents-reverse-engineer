---
generated_at: 2026-02-09T15:07:10.006Z
content_hash: 170a8dbec49b601e218709256527ba0dbfa43f1f69e0aac7a6e7e3f9370fcb86
purpose: Defines TypeScript interfaces for AI-generated analysis results, metadata extraction, and summary generation options ...
---
**Defines TypeScript interfaces for AI-generated analysis results, metadata extraction, and summary generation options used throughout the three-phase documentation pipeline.**

## Exported Types

**`AnalysisResult`** — Result of Phase 1 file analysis populated by LLM via `AIService.call()`. Contains:
- `summary: string` — Generated markdown summary text written to `.sum` files
- `metadata: SummaryMetadata` — Extracted structured metadata for YAML frontmatter

**`SummaryMetadata`** — Structured metadata extracted during file analysis and serialized to `.sum` YAML frontmatter. Contains:
- `purpose: string` — One-line purpose statement (mandatory)
- `criticalTodos?: string[]` — Security/breaking issues only (optional)
- `relatedFiles?: string[]` — Tightly coupled sibling file paths (optional)

**`SummaryOptions`** — Configuration for summary generation behavior. Contains:
- `targetLength: 'short' | 'standard' | 'detailed'` — Controls output verbosity
- `includeCodeSnippets: boolean` — Whether to embed code examples in summaries

## Integration Points

Used by `src/generation/executor.ts` to type-check AI service responses during Phase 1 concurrent file analysis. The `AnalysisResult.metadata` structure maps directly to YAML frontmatter fields written by `writeSumFile()` in `src/generation/writers/sum.ts`. The `content_hash` field (SHA-256) added during write is not part of this schema — it's injected by the writer layer.

Referenced by `src/generation/prompts/builder.ts` when constructing prompts that specify expected LLM output format. The `SummaryOptions` type flows through `CommandRunOptions` in `src/orchestration/types.ts` to control prompt template selection.

## Related Files

- `src/generation/writers/sum.ts` — Consumes `AnalysisResult` to write `.sum` files with YAML frontmatter
- `src/generation/prompts/types.ts` — Defines `PromptContext` that carries `SummaryOptions`
- `src/orchestration/types.ts` — Defines `Task` discriminated union where `AnalyzeFileTask` produces `AnalysisResult`
---
generated_at: 2026-02-09T15:05:48.937Z
content_hash: 9e8e20e4c2bb7c66f849ccaba5230cb66a1ca6795bd4c2bdf5dd7fb70387cbb1
purpose: Public interface module re-exporting prompt building functions, types, and guidelines for the three-phase documentati...
---
**Public interface module re-exporting prompt building functions, types, and guidelines for the three-phase documentation generation pipeline.**

## Exports

- **PromptContext** (type): Re-exported from `./types.js`, defines input structure for prompt builders containing file/directory metadata, import maps, child summaries, and manifest detection results
- **SUMMARY_GUIDELINES** (constant): Re-exported from `./types.js`, contains density rules and formatting constraints embedded in AI prompts to enforce identifier-rich, filler-free documentation
- **buildFilePrompt** (function): Re-exported from `./builder.js`, constructs Phase 1 prompts for per-file `.sum` analysis with import context and language detection
- **buildDirectoryPrompt** (function): Re-exported from `./builder.js`, constructs Phase 2 prompts for `AGENTS.md` aggregation from child summaries, subdirectory docs, and manifest metadata
- **buildRootPrompt** (function): Re-exported from `./builder.js`, constructs Phase 3 prompts for platform-specific root document synthesis (`CLAUDE.md`, `GEMINI.md`, `OPENCODE.md`) from `AGENTS.md` corpus
- **detectLanguage** (function): Re-exported from `./builder.js`, maps file extensions to language identifiers for syntax highlighting in generated code blocks

## Integration Points

Consumed by `src/generation/executor.ts` which orchestrates three-phase pipeline execution via worker pool. Phase 1 uses `buildFilePrompt()` with `PromptContext` containing import maps from `src/imports/extractor.ts`. Phase 2 uses `buildDirectoryPrompt()` with aggregated child `.sum` content. Phase 3 uses `buildRootPrompt()` with collected `AGENTS.md` files from `src/generation/collector.ts`.

The `SUMMARY_GUIDELINES` constant enforces documentation quality constraints validated post-generation by `src/quality/inconsistency/code-vs-doc.ts` and `src/quality/phantom-paths/validator.ts`.
---
generated_at: 2026-02-09T14:07:54.978Z
content_hash: 1a738e5c2c022071d21cc5f162a3dbbae98ae485bf46586ce68d97a0bcfcbfc1
purpose: Defines TypeScript interfaces and constants for prompt construction in the file analysis phase of ARE's documentation...
---
**Defines TypeScript interfaces and constants for prompt construction in the file analysis phase of ARE's documentation generation pipeline.**

## Exported Types

### PromptContext

Interface providing context data for prompt construction during file analysis:

```typescript
interface PromptContext {
  filePath: string;              // Absolute path to file being analyzed
  content: string;               // File content to analyze
  contextFiles?: Array<{         // Optional related files for context
    path: string;
    content: string;
  }>;
  projectPlan?: string;          // Optional project structure listing
}
```

Used by `buildPrompt()` in `src/generation/prompts/builder.ts` to assemble analysis prompts for AI subprocess calls.

## Exported Constants

### SUMMARY_GUIDELINES

Frozen object defining `.sum` file generation rules derived from CONTEXT.md:

- **targetLength**: `{ min: 200, max: 300 }` word count range for summaries
- **include**: Array of 6 required elements:
  - `'Purpose and responsibility'`
  - `'Public interface (exports, key functions)'`
  - `'Key patterns and notable algorithms'`
  - `'Dependencies with usage context'`
  - `'Key function signatures as code snippets'`
  - `'Tightly coupled sibling files'`
- **exclude**: Array of 3 items to omit:
  - `'Internal implementation details'`
  - `'Generic TODOs/FIXMEs (keep only security/breaking)'`
  - `'Broad architectural relationships (handled by AGENTS.md)'`

Marked with `as const` for compile-time immutability. Referenced by prompt templates in `src/generation/prompts/templates.ts` to enforce consistent summary structure across AI backends.

## Integration Points

- Consumed by `buildPrompt()` which constructs AI prompts for Phase 1 file analysis
- `PromptContext.contextFiles` populated by import extraction logic in `src/imports/extractor.ts`
- `PromptContext.projectPlan` sourced from `GENERATION-PLAN.md` written by `src/orchestration/plan-tracker.ts`
- `SUMMARY_GUIDELINES` embedded in template strings that instruct Claude/Gemini/OpenCode subprocesses
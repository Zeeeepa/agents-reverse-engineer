<!-- Generated by agents-reverse-engineer v1.0.1 -->

# src/quality/phantom-paths
This directory provides functionality for validating file path references within `AGENTS.md` files, specifically identifying and reporting non-existent paths as `PhantomPathInconsistency`.

## Contents
- [index.ts](./index.ts): Exports the `checkPhantomPaths` function.
- [validator.ts](./validator.ts): Contains the `checkPhantomPaths` function for identifying phantom paths and defines the `PATH_PATTERNS` and `SKIP_PATTERNS` regular expressions.

## API Surface
`checkPhantomPaths` (function): Re-exports the `checkPhantomPaths` function from [./validator.js](./validator.ts), which verifies `AGENTS.md` file path references.

## Behavioral Contracts
`checkPhantomPaths(agentsMdPath: string, content: string, projectRoot: string): PhantomPathInconsistency[]` identifies non-existent `rawPath` within `content` using `PATH_PATTERNS`. Paths are resolved via `node:path` relative to `agentsMdPath` and `projectRoot`, including `.js` to `.ts` conversion, then `node:fs.existsSync` confirms existence. Returns `PhantomPathInconsistency` (`type: 'phantom-path'`, `severity: 'warning'`) for unconfirmed paths. `SKIP_PATTERNS` filters.

`PATH_PATTERNS` (RegExp[]):
- Markdown links: `/\[(?:[^\]]*)\]\((\.[^)]+)\)/g`
- Backtick-quoted paths: ``((?:src\/|\.\.?\/)[^`]+\.[a-z]{1,4})``/g`
- Prose paths: `/(?:from|in|by|via|see)\s+`?(src\/[\w\-./]+)`?/gi`

`SKIP_PATTERNS` (RegExp[]):
- `/node_modules/`
- `/\.git\//`
- `/^https?:/`
- `/\{\{/`
- `/\$\{/`
- `/\*/`
- `\{[^}]*,[^}]*\}`
<!-- Generated by agents-reverse-engineer v0.9.10 -->

# src/quality/phantom-paths

Detects and reports invalid path references in AGENTS.md documentation by matching three classes of path patterns (markdown links, backtick-quoted paths, prose references) and verifying file existence via regex-based extraction and filesystem resolution.

## Contents

- [index.ts](./index.ts) — Re-exports `checkPhantomPaths` validator.
- [validator.ts](./validator.ts) — Implements `checkPhantomPaths(agentsMdPath, content, projectRoot)` core validation logic.

## Exports

`checkPhantomPaths(agentsMdPath: string, content: string, projectRoot: string)` returns `PhantomPathInconsistency[]` array.

## Path Detection Patterns

Three `RegExp` instances in `PATH_PATTERNS` match:

- Markdown links: `\[(?:[^\]]*)\]\((\.[^)]+)\)/g`
- Backtick-quoted paths: `` /`((?:src\/|\.\.?\/)[^`]+\.[a-z]{1,4})`/g ``
- Prose references (from/in/by/via/see clauses): `/(?:from|in|by|via|see)\s+`?(src\/[\w\-./]+)`?/gi`

## Validation Rules

`SKIP_PATTERNS` — six RegExp instances reject node_modules, .git/, `https?:` URLs, template placeholders `{{`, template literals `${`, glob wildcards `*`, and brace expansion syntax `{a,b,c}`.

## Resolution Strategy

Paths resolved in sequence: (1) relative to AGENTS.md directory, (2) relative to `projectRoot` for src/ references, (3) with `.js`→`.ts` substitution for TypeScript import conventions. Deduplicates via `seen` Set.

## Issue Structure

`PhantomPathInconsistency` objects contain `type: 'phantom-path'`, `severity: 'warning'`, relative `agentsMdPath`, unresolved `rawPath`, absolute `resolvedTo` filesystem path, and 120-character context snippet.
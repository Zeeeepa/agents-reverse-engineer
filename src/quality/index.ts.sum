---
generated_at: 2026-02-09T21:29:57.773Z
content_hash: ace71137f853e1fd5c989c3d4e5326fe3cb526ea38d3fc753486e7d037c687b9
purpose: `src/quality/index.ts` re-exports quality analysis types and functions from inconsistency detection, phantom path val...
---
**`src/quality/index.ts` re-exports quality analysis types and functions from inconsistency detection, phantom path validation, and density validation submodules.**

## Exported Types

Re-exports from `./types.js`:
- `InconsistencySeverity` — severity level enumeration for quality issues
- `CodeDocInconsistency` — reports exports missing from `.sum` documentation
- `CodeCodeInconsistency` — reports duplicate symbol definitions across files
- `PhantomPathInconsistency` — reports unresolvable path references in `AGENTS.md`
- `Inconsistency` — discriminated union of all inconsistency types
- `InconsistencyReport` — aggregated quality report with metadata, issues array, and summary counts

## Code-vs-Doc Validation

Re-exports from `./inconsistency/code-vs-doc.js`:
- `extractExports(sourceCode: string): string[]` — parses exported symbols via regex `/^[ \t]*export\s+(?:default\s+)?(?:function|class|const|let|var|type|interface|enum)\s+(\w+)/gm`
- `checkCodeVsDoc(filePath: string, sumContent: string): CodeDocInconsistency | null` — verifies all extracted exports appear in `.sum` summary text via substring search

## Code-vs-Code Validation

Re-exports from `./inconsistency/code-vs-code.js`:
- `checkCodeVsCode(directoryPath: string, exports: Map<string, string[]>): CodeCodeInconsistency[]` — detects duplicate symbols across multiple files within a directory, returns issues with `pattern: 'duplicate-export'`

## Inconsistency Reporting

Re-exports from `./inconsistency/reporter.js`:
- `buildInconsistencyReport(issues: Inconsistency[], metadata: object): InconsistencyReport` — constructs report with timestamp, projectRoot, filesChecked, durationMs, and summary counts by type/severity
- `formatReportForCli(report: InconsistencyReport): string` — renders human-readable CLI output with picocolors formatting

## Phantom Path Detection

Re-exports from `./phantom-paths/index.js`:
- `checkPhantomPaths(agentsMdPath: string, projectRoot: string): PhantomPathInconsistency[]` — extracts path-like strings from `AGENTS.md` via three regex patterns (markdown links, backtick-quoted paths, prose-embedded paths), resolves against AGENTS.md directory and project root with `.ts`/`.js` fallback

## Density Validation

Re-exports from `./density/validator.js`:
- `validateFindability(sumContent: string): FindabilityResult` — validates identifier density in summaries (currently disabled after structured `publicInterface` removal from schema)
- `FindabilityResult` — type representing density validation results

## Module Purpose

Serves as barrel export aggregating all quality validation capabilities: code-documentation consistency checks (`extractExports`, `checkCodeVsDoc`), duplicate symbol detection (`checkCodeVsCode`), phantom path resolution (`checkPhantomPaths`), report synthesis (`buildInconsistencyReport`, `formatReportForCli`), and density validation (`validateFindability`). Called by Phase 1 post-processing to emit `InconsistencyReport` with counts logged to `.agents-reverse-engineer/progress.log` and included in telemetry run logs.
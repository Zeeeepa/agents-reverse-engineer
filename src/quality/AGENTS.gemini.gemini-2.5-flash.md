<!-- Generated by agents-reverse-engineer v1.0.1 -->

# src/quality
`src/quality` provides the public API and defines shared types for project quality analysis, focusing on inconsistency detection, phantom path identification, and report generation.

## Contents
- [index.ts](./index.ts): Provides the public API for quality analysis, re-exporting `InconsistencySeverity`, `CodeDocInconsistency`, `CodeCodeInconsistency`, `PhantomPathInconsistency`, `Inconsistency`, `InconsistencyReport`, `extractExports`, `checkCodeVsDoc`, `checkCodeVsCode`, `buildInconsistencyReport`, `formatReportForCli`, `formatReportAsMarkdown`, and `checkPhantomPaths`.
- [types.ts](./types.ts): Defines `InconsistencySeverity`, `CodeDocInconsistency`, `CodeCodeInconsistency`, `PhantomPathInconsistency`, `Inconsistency`, and `InconsistencyReport` for project quality analysis.

## Subdirectories
- [inconsistency/](./inconsistency/): Contains modules for detecting and reporting various types of inconsistencies, such as code-documentation mismatches and duplicate symbol exports.
- [phantom-paths/](./phantom-paths/): Provides functionality for validating file path references within AGENTS.md files, identifying non-existent paths.

## API Surface
`index.ts` exports:
- Types: `InconsistencySeverity`, `CodeDocInconsistency`, `CodeCodeInconsistency`, `PhantomPathInconsistency`, `Inconsistency`, `InconsistencyReport`.
- Functions: `extractExports`, `checkCodeVsDoc`, `checkCodeVsCode`, `buildInconsistencyReport`, `formatReportForCli`, `formatReportAsMarkdown`, `checkPhantomPaths`.

## Behavioral Contracts
`inconsistency/code-vs-doc.ts` uses `/^[ \t]*export\s+(?:default\s+)?(?:function|class|const|let|var|type|interface|enum)\s+(\w+)/gm` to `extractExports` named and default export identifiers from `sourceContent`.
`inconsistency/code-vs-code.ts` flags `CodeCodeInconsistency` with `type: 'code-vs-code'`, `severity: 'warning'`, and `pattern: 'duplicate-export'`.
`inconsistency/code-vs-doc.ts` flags `CodeDocInconsistency` with `type: 'code-vs-doc'` and `severity: 'warning'`.
`inconsistency/reporter.ts` assigns `severityTag` values `[ERROR]`, `[WARN]`, or `[INFO]` for CLI output and `` `ERROR` ``, `` `WARN` ``, or `` `INFO` `` for Markdown.
`phantom-paths/validator.ts`'s `checkPhantomPaths` identifies non-existent `rawPath` within `content` using `PATH_PATTERNS` and returns `PhantomPathInconsistency` (`type: 'phantom-path'`, `severity: 'warning'`) for unconfirmed paths.
`phantom-paths/validator.ts`'s `SKIP_PATTERNS` filters paths matching: `/node_modules/`, `/\.git\//`, `/^https?:/`, `/\{\{/`, `/\$\{/`, `/\*/`, `\{[^}]*,[^}]*\}`.
`phantom-paths/validator.ts`'s `PATH_PATTERNS` (RegExp[]):
- Markdown links: `/\[(?:[^\]]*)\]\((\.[^)]+)\)/g`
- Backtick-quoted paths: ``((?:src\/|\.\.?\/)[^`]+\.[a-z]{1,4})``/g`
- Prose paths: `/(?:from|in|by|via|see)\s+`?(src\/[\w\-./]+)`?/gi`

## File Relationships
`index.ts` re-exports `InconsistencySeverity`, `CodeDocInconsistency`, `CodeCodeInconsistency`, `PhantomPathInconsistency`, `Inconsistency`, `InconsistencyReport` from `types.ts`. `index.ts` re-exports `extractExports`, `checkCodeVsDoc` from `inconsistency/code-vs-doc.ts`. `index.ts` re-exports `checkCodeVsCode` from `inconsistency/code-vs-code.ts`. `index.ts` re-exports `buildInconsistencyReport`, `formatReportForCli`, `formatReportAsMarkdown` from `inconsistency/reporter.ts`. `index.ts` re-exports `checkPhantomPaths` from `phantom-paths/index.ts`. The `inconsistency` and `phantom-paths` subdirectories rely on types defined in `types.ts`.
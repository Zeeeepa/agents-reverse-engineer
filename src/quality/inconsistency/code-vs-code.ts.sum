---
generated_at: 2026-02-09T15:06:07.914Z
content_hash: 48a2ef2363302abe6f4b31022b7afa304960c3631294ddbed6bbe3e4b3251a9a
purpose: checkCodeVsCode detects duplicate exported symbols across a group of source files within a per-directory scope, build...
---
**checkCodeVsCode detects duplicate exported symbols across a group of source files within a per-directory scope, building a symbol-to-paths map via extractExports and flagging names appearing in multiple files as CodeCodeInconsistency warnings.**

## Exported Interface

**checkCodeVsCode(files: Array<{ path: string; content: string }>): CodeCodeInconsistency[]**
- Accepts array of file objects with `path` and `content` properties
- Returns array of CodeCodeInconsistency objects with `type: 'code-vs-code'`, `severity: 'warning'`, `files: string[]`, `description: string`, `pattern: 'duplicate-export'`
- Caller responsible for scoping input to per-directory file groups to avoid false positives across unrelated modules

## Algorithm

Builds `Map<string, string[]>` mapping export name to file paths via two-pass traversal:
1. For each file, calls extractExports (imported from `./code-vs-doc.js`) to extract symbol names
2. Accumulates file paths for each symbol name in exportMap
3. Iterates exportMap entries, creates CodeCodeInconsistency for symbols with `paths.length > 1`

## Dependencies

**extractExports** (from `./code-vs-doc.js`): Regex-based export extraction returning symbol name array  
**CodeCodeInconsistency** (from `../types.js`): Discriminated union member of inconsistency report schema

## Design Constraints

Heuristic-only check with no AI calls, operates on symbol names without AST analysis to distinguish intentional duplication (e.g., facade pattern, barrel exports). Per-directory scoping required to reduce false positives from legitimate cross-module symbol reuse.
---
generated_at: 2026-02-09T17:44:19.349Z
content_hash: 20526dbcc3fa83bca2efb8a76027db019b8944ad212cf781c189935bfced0410
purpose: Extracts exported identifiers from TypeScript/JavaScript source and detects code-vs-doc inconsistencies by comparing ...
---
**Extracts exported identifiers from TypeScript/JavaScript source and detects code-vs-doc inconsistencies by comparing exports against `.sum` file content.**

## Exported Functions

**`extractExports(sourceContent: string): string[]`**
Extracts exported identifier names from TypeScript/JavaScript source using regex pattern `/^[ \t]*export\s+(?:default\s+)?(?:function|class|const|let|var|type|interface|enum)\s+(\w+)/gm`. Matches export declarations including `export function`, `export class`, `export const`, `export default class`, etc. Ignores re-exports, commented lines, and non-exported declarations. Returns array of exported symbol names.

**`checkCodeVsDoc(sourceContent: string, sumContent: SumFileContent, filePath: string): CodeDocInconsistency | null`**
Compares source exports against `.sum` documentation content via case-sensitive substring matching. Detects `missingFromDoc` inconsistencies (symbols exported in source but absent from `sumContent.summary` text). Returns `CodeDocInconsistency` with `type: 'code-vs-doc'`, `severity: 'warning'`, `filePath`, `sumPath`, `description`, and `details: { missingFromDoc, missingFromCode }`. Returns `null` when all exports appear in summary text.

## Dependencies

Imports `SumFileContent` from `../../generation/writers/sum.js` for parsed `.sum` file structure and `CodeDocInconsistency` from `../types.js` for inconsistency report format.

## Validation Strategy

Uses regex-based export extraction combined with substring search in summary text. Does not perform AST analysis, so misses complex export patterns (destructured, namespace, dynamic exports). Substring matching yields false negatives when prose mentions symbols in non-API contexts. The `missingFromCode` array is always empty (legacy field from removed `publicInterface` schema).

## Behavioral Contracts

Export extraction pattern: `/^[ \t]*export\s+(?:default\s+)?(?:function|class|const|let|var|type|interface|enum)\s+(\w+)/gm` matches line-start whitespace, `export` keyword, optional `default`, declaration keyword, and captures identifier `(\w+)`.
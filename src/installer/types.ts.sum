---
generated_at: 2026-02-09T14:09:19.924Z
content_hash: c9618acf7084121a419590d18820c6e7d77a9bae7c6e79d26cc1b558928b4584
purpose: Defines TypeScript types for the npx installation workflow that copies ARE command files and hooks to runtime-specifi...
---
**Defines TypeScript types for the npx installation workflow that copies ARE command files and hooks to runtime-specific directories (Claude Code, OpenCode, Gemini) in either global (~/.claude) or local (.claude) locations.**

## Exported Types

**`Runtime`** — Union literal type `'claude' | 'opencode' | 'gemini' | 'all'` representing supported AI coding assistant runtimes for installation. Maps to directory paths: `claude` → `~/.claude`, `opencode` → `~/.config/opencode`, `gemini` → `~/.gemini`, `all` → installs to all three runtimes.

**`Location`** — Union literal type `'global' | 'local'` specifying installation target. `global` installs to user-level directories (e.g., `~/.claude`), `local` installs to project-level directories (e.g., `.claude`).

**`InstallerArgs`** — Command-line argument interface with fields:
- `runtime?: Runtime` — Target runtime or `all`
- `global: boolean` — Install to user-level location
- `local: boolean` — Install to project-level location
- `uninstall: boolean` — Remove instead of install
- `force: boolean` — Overwrite existing files without prompting
- `help: boolean` — Display help and exit
- `quiet: boolean` — Suppress banner and info messages

Supports both interactive (prompts for missing values) and non-interactive (all flags provided) modes.

**`InstallerResult`** — Operation outcome interface with fields:
- `success: boolean` — Overall operation success
- `runtime: Exclude<Runtime, 'all'>` — Actual runtime installed (never `'all'`)
- `location: Location` — Target location used
- `filesCreated: string[]` — Absolute paths of successfully written files
- `filesSkipped: string[]` — Paths skipped due to existing files without `--force`
- `errors: string[]` — Error messages from failed operations
- `hookRegistered?: boolean` — Claude-only field indicating `settings.json` hook registration status
- `versionWritten?: boolean` — Whether `ARE-VERSION` file was written

Returned by single-runtime installation operations for aggregation in multi-runtime `all` installs.

**`RuntimePaths`** — Path configuration interface with fields:
- `global: string` — Resolved global installation path (e.g., `~/.claude`, respects `CLAUDE_CONFIG_DIR` override)
- `local: string` — Resolved local installation path (e.g., `.claude` relative to cwd)
- `settingsFile: string` — Absolute path to `settings.json` for hook registration (Claude only)

Used by `src/installer/paths.ts` path resolution logic with environment variable overrides (`CLAUDE_CONFIG_DIR`, `OPENCODE_CONFIG_DIR`, `GEMINI_CONFIG_DIR`).

## Domain Context

Part of the installer module orchestrating npx-based installation workflow. Types consumed by `src/installer/operations.ts` (file copy operations), `src/installer/prompts.ts` (interactive CLI prompts), `src/installer/paths.ts` (path resolution with env overrides), and `src/installer/index.ts` (main orchestrator).

The `Exclude<Runtime, 'all'>` pattern in `InstallerResult.runtime` enforces that individual results represent concrete runtimes (`claude`, `opencode`, `gemini`) while `InstallerArgs.runtime` accepts `'all'` for batch operations.
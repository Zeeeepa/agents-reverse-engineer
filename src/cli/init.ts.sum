---
generated_at: 2026-02-09T14:08:37.151Z
content_hash: 7cd6a59c01b8ceab118bdfa490d0f4c10459672c0146d922cdc9923c8265ccef
purpose: initCommand creates the default configuration YAML file for agents-reverse-engineer in the `.agents-reverse-engineer/...
---
**initCommand creates the default configuration YAML file for agents-reverse-engineer in the `.agents-reverse-engineer/` directory.**

## Exported Interface

```typescript
async function initCommand(root: string, options?: { force?: boolean }): Promise<void>
```

`initCommand` accepts `root` (project directory path) and optional `options.force` flag to overwrite existing configuration. Resolves `root` via `path.resolve()`, constructs `configPath` by joining `resolvedRoot`, `CONFIG_DIR`, and `CONFIG_FILE`. Creates a `Logger` instance via `createLogger({ colors: true })`.

## Execution Flow

Calls `configExists(resolvedRoot)` to check for existing configuration. If configuration exists and `force` is false, logs warning via `logger.warn()` showing `configPath` location and suggests manual editing via `logger.info()`. If configuration does not exist or `force` is true, invokes `writeDefaultConfig(resolvedRoot)` to create YAML file, then logs success message with customization guidance covering `exclude.patterns`, `ai.concurrency`, `ai.timeoutMs`, `ai.backend`.

## Error Handling

Catches errors as `NodeJS.ErrnoException`. For permission errors (error codes `EACCES` or `EPERM`), logs permission denial message via `logger.error()` with `configPath`, provides remediation hint via `logger.info()`, exits with status code 1. For other errors, logs generic failure message via `logger.error()` with `error.message`, exits with status code 1.

## Dependencies

Imports `configExists`, `writeDefaultConfig`, `CONFIG_DIR`, `CONFIG_FILE` from `../config/loader.js`. Imports `createLogger` from `../output/logger.js`. Uses Node.js `path` module for path resolution and joining.
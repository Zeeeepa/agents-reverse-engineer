---
generated_at: 2026-02-09T13:17:41.451Z
content_hash: 885090812a3be24de9212805ef4c0d2b922fe78af57830769f591dd57f88ba4b
purpose: Exports writeRunLog to persist completed RunLog objects as timestamped JSON files in the telemetry logs directory.
---
**Exports writeRunLog to persist completed RunLog objects as timestamped JSON files in the telemetry logs directory.**

## Exported Functions

### writeRunLog
```typescript
async function writeRunLog(projectRoot: string, runLog: RunLog): Promise<string>
```
Creates `.agents-reverse-engineer/logs/` directory if missing, sanitizes the `runLog.startTime` ISO timestamp by replacing `:` and `.` with `-` to form a valid cross-platform filename like `run-2026-02-07T12-00-00-000Z.json`, writes the RunLog as pretty-printed JSON with 2-space indentation via `fs.writeFile`, and returns the absolute path to the written file.

## Constants

`LOGS_DIR` defines the relative path `.agents-reverse-engineer/logs` used as the target directory for all telemetry log files within the project root.

## Dependencies

- `node:fs/promises`: provides `mkdir` with `recursive: true` for directory creation and `writeFile` for JSON persistence
- `node:path`: provides `join` for cross-platform path construction
- `../types.js`: imports the RunLog type definition

## Integration Points

This module is referenced in the project memory as part of the **Telemetry** system, which writes NDJSON run logs to `.agents-reverse-engineer/logs/` for tracking AI backend usage, file processing statistics, and command execution metadata. The RunLog type (imported from `src/ai/types.ts`) captures run-level telemetry data that writeRunLog serializes to disk.
<!-- Generated by agents-reverse-engineer -->

# agents-reverse-engineer

**AI-driven codebase documentation generator that reverse-engineers project structure through three-phase analysis: per-file `.sum` summaries (parallel), per-directory `AGENTS.md` overviews (post-order tree traversal), and root entry points (`CLAUDE.md`, `GEMINI.md`, `OPENCODE.md`).**

## Structure

This is a **Node.js ES module package** (`type: "module"`) distributing TypeScript-compiled JavaScript to `dist/` via two CLI entry points (`are`, `agents-reverse-engineer` → `dist/cli/index.js`). TypeScript compilation targets ES2022 with NodeNext module resolution (`tsconfig.json`), requires Node.js ≥18.0.0 (`package.json` engines field), and produces `.d.ts` declarations with source maps.

## Contents

**[LANGUAGES-MANIFEST.md](./LANGUAGES-MANIFEST.md)** — Reference table mapping 26 language ecosystems to manifest file globs (package.json, Cargo.toml, go.mod, requirements.txt) for dependency detection by `ImportExtractor.extract()`. Four languages supported (JavaScript/TypeScript, Python, Go, Rust), 22 stubbed (Ruby, Java, C#, PHP, Swift, etc.).

**[LICENSE](./LICENSE)** — MIT License granting unrestricted use/modification/distribution rights to GeoloeG-IsT (2026) with warranty disclaimers and liability limitations.

**[README.md](./README.md)** — User-facing documentation covering installation (interactive `npx agents-reverse-engineer@latest` installer with `--runtime`, `-g`/`-l` flags), seven CLI commands (`are init/discover/generate/update/specify/clean`), configuration schema (`.agents-reverse-engineer/config.yaml` with `exclude`/`options`/`output`/`ai` sections), and generated documentation formats (`.sum` YAML frontmatter, `AGENTS.md` per-directory, `CLAUDE.md/GEMINI.md/OPENCODE.md` root documents). Documents three AI runtime integrations: Claude Code (session hooks), Gemini CLI (TOML commands), OpenCode (AGENTS.md format).

**[package.json](./package.json)** — NPM package manifest declaring `agents-reverse-engineer` v0.6.2 with dual binaries (`are`, `agents-reverse-engineer`), ES module type, Node.js ≥18.0.0 engine requirement. Build scripts chain `tsc` + `build:hooks` (executes `scripts/build-hooks.js`) in `prepublishOnly`. Runtime dependencies: `fast-glob` (discovery), `ignore` (gitignore parsing), `isbinaryfile` (detection), `simple-git` (change detection), `yaml` (config), `zod` (validation), `ora` (spinner), `picocolors` (colors).

**[tsconfig.json](./tsconfig.json)** — TypeScript compiler configuration targeting ES2022 with `module: "NodeNext"`, `moduleResolution: "NodeNext"` for native ESM support. Emits to `dist/` from `rootDir: "src"` with `declaration: true` and source maps. Strict type checking enabled (`strict: true`, `forceConsistentCasingInFileNames`), `isolatedModules: true` for esbuild compatibility, `resolveJsonModule: true` for package.json imports.

## Subdirectories

**[src/](./src/)** — Core TypeScript implementation of the three-phase RLM algorithm. `cli/` parses `process.argv` and routes to seven command handlers. `generation/` orchestrates concurrent file analysis (`buildFilePrompt()` → `.sum`), post-order directory aggregation (`buildDirectoryPrompt()` → `AGENTS.md`), sequential root synthesis (`buildClaudeMdPrompt()` → `CLAUDE.md`). `orchestration/` implements iterator-based `WorkerPool` sharing single task iterator across N workers, `ProgressReporter` computing ETA via moving average, `TraceWriter` serializing NDJSON events via promise chain. `ai/` abstracts three backends (`createBackendRegistry()` auto-detects Claude/Gemini/OpenCode CLIs) with subprocess resource limits (`NODE_OPTIONS='--max-old-space-size=512'`, `UV_THREADPOOL_SIZE='4'`, `CLAUDE_CODE_DISABLE_BACKGROUND_TASKS='1'`), exponential backoff retries on rate limit stderr patterns. `discovery/` chains filters (`GitignoreFilter`, `BinaryFilter`, `VendorFilter`, `CustomPatternFilter`) via `walkDirectory()` recursion. `update/` compares SHA-256 `content_hash` from `.sum` YAML frontmatter against `computeContentHash()`, building `filesToAnalyze`/`filesToSkip`/`orphanSums`, calls `cleanupOrphans()` and `cleanupEmptyDirectoryDocs()`, regenerates affected directory docs sequentially. `quality/` validates code-doc consistency (regex export extraction + substring search), code-code duplication (symbol→files map), phantom paths (three regex patterns → `existsSync()` resolution).
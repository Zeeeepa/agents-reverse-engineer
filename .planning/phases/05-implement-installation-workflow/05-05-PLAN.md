---
phase: 05-implement-installation-workflow
plan: 05
type: execute
wave: 4
depends_on: ["05-04"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Running npx agents-reverse-engineer launches interactive installer"
    - "User can select runtime using arrow keys"
    - "User can select location (global/local)"
    - "CLI flags work for non-interactive installation"
    - "Installed commands appear in runtime config directory"
    - "Hooks are registered in settings.json"
---

<objective>
Verify the complete installation workflow works end-to-end.

Purpose: Human verification that the installer provides the expected user experience - interactive prompts, file installation, and non-interactive flag support.

Output: Confirmation that Phase 5 success criteria are met.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/05-implement-installation-workflow/05-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Build and prepare for testing</name>
  <files></files>
  <action>
1. Run `npm run build` to compile TypeScript
2. Verify no build errors
3. Run `npm test` to ensure no regressions
4. If tests fail, fix before proceeding
  </action>
  <verify>
`npm run build` succeeds.
`npm test` passes (or no tests fail).
  </verify>
  <done>Project builds successfully and tests pass.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete installation workflow with:
- Interactive prompts (arrow key selection for runtime and location)
- ASCII banner display
- File installation to runtime config directories
- Hook registration in settings.json
- Non-interactive flag support
- Uninstall support
  </what-built>
  <how-to-verify>
**Test 1: Interactive Install**
1. Run: `npx tsx src/cli/index.ts install`
2. Verify: ASCII banner displays with colors
3. Verify: Runtime selection prompt appears with arrow key navigation
4. Select "Claude Code" using arrow keys and Enter
5. Verify: Location selection prompt appears
6. Select "Global" and press Enter
7. Verify: Success message with checkmarks appears
8. Verify: Files created in ~/.claude/commands/are/

**Test 2: Non-Interactive Install**
1. Run: `npx tsx src/cli/index.ts --runtime opencode --local --force`
2. Verify: No prompts appear
3. Verify: Files created in ./.opencode/commands/

**Test 3: Help Display**
1. Run: `npx tsx src/cli/index.ts install --help`
2. Verify: Help shows runtime options, location flags, examples

**Test 4: Uninstall**
1. Run: `npx tsx src/cli/index.ts --runtime opencode --local --uninstall`
2. Verify: Files removed from ./.opencode/commands/

**Test 5: Verify Hook Registration (Claude global)**
1. Check ~/.claude/settings.json
2. Verify: hooks.SessionEnd contains are-session-end.js entry

**Test 6: Verify VERSION file**
1. Check ~/.claude/VERSION
2. Verify: Contains version number (e.g., "0.1.2")
  </how-to-verify>
  <resume-signal>Type "approved" if all tests pass, or describe any issues found.</resume-signal>
</task>

</tasks>

<verification>
All Phase 5 success criteria verified:
1. Running `npx agents-reverse-engineer` launches interactive installer
2. User can select runtime (Claude Code, OpenCode, or all)
3. User can select location (global ~/.claude or local ./.claude)
4. CLI flags support non-interactive installation (--claude --global, etc.)
</verification>

<success_criteria>
- [ ] Interactive install shows banner and prompts
- [ ] Arrow key selection works for runtime and location
- [ ] Non-interactive mode works with flags
- [ ] Files are installed to correct locations
- [ ] Hooks are registered in settings.json
- [ ] Uninstall removes files and hook registration
- [ ] VERSION file is created
</success_criteria>

<output>
After completion, create `.planning/phases/05-implement-installation-workflow/05-05-SUMMARY.md`
</output>

---
generated_at: 2026-02-09T17:46:57.205Z
content_hash: 545491467bb5d383a886feb1e27b719f964a0b36ecf254adf09c0f47afb4e191
purpose: README.md provides user-facing documentation for agents-reverse-engineer CLI, covering installation via `npx agents-r...
---
**README.md provides user-facing documentation for agents-reverse-engineer CLI, covering installation via `npx agents-reverse-engineer@latest`, command workflows (`/are-init`, `/are-discover`, `/are-generate`, `/are-update`, `/are-specify`, `/are-clean`), generated artifact formats (`.sum` files with YAML frontmatter, `AGENTS.md` directory overviews, runtime-specific root documents), configuration schema for `.agents-reverse-engineer/config.yaml`, and integration patterns with Claude Code, OpenCode, and Gemini CLI.**

## Installation Workflows

Interactive installer invoked via `npx agents-reverse-engineer@latest` prompts for runtime selection (`claude`, `opencode`, `gemini`, `all`) and installation scope (global `-g` targeting `~/.claude/`, local `-l` targeting `./.claude/`). Non-interactive installation accepts `--runtime <rt>` flag with `-g`/`-l` flags. Uninstallation via `npx agents-reverse-engineer@latest uninstall` removes command files (`/are-*`), session hooks (Claude/Gemini), ARE permissions from settings.json, and `.agents-reverse-engineer` folder (local installs only).

## Command Reference

CLI commands execute via `are <command>` binary:
- `are install` — Interactive installer with runtime/location prompts
- `are install --runtime <rt> -g` — Install to runtime globally
- `are install --runtime <rt> -l` — Install to runtime locally
- `are install -u` — Uninstall (remove files/hooks)
- `are init` — Create `.agents-reverse-engineer/config.yaml` configuration file
- `are discover` — List files for analysis, optionally write `GENERATION-PLAN.md` with `--plan` flag
- `are discover --show-excluded` — Display excluded files with exclusion reasons
- `are generate` — Execute three-phase pipeline (file analysis → directory aggregation → root synthesis)
- `are update` — Incremental regeneration for changed files only
- `are specify` — Synthesize `specs/SPEC.md` from all `AGENTS.md` files, supports `--multi-file` for split output
- `are clean` — Remove `.sum`, `AGENTS.md` (generated only), root docs, `GENERATION-PLAN.md`

AI assistant commands mirror CLI with `/are-` prefix: `/are-init`, `/are-discover`, `/are-generate`, `/are-update`, `/are-specify`, `/are-clean`. Supported runtimes: Claude Code, OpenCode, Gemini CLI.

## Generated Documentation Structure

`.sum` files contain YAML frontmatter with `file_type`, `generated_at` timestamp, followed by markdown sections:
- `## Purpose` — One-line role statement
- `## Public Interface` — Exported functions/classes/types with signatures
- `## Dependencies` — Import statements with usage descriptions
- `## Implementation Notes` — Behavioral contracts, constraints, patterns

`AGENTS.md` directory overviews include:
- Directory role description
- Files grouped by purpose (Types, Services, Utils)
- Subdirectory briefs

Root documents (`CLAUDE.md`, `GEMINI.md`, `OPENCODE.md`) serve as runtime-specific project entry points auto-loaded by respective AI assistants. Universal `AGENTS.md` at project root provides standard format overview.

## Configuration Schema

`.agents-reverse-engineer/config.yaml` structure:

```yaml
exclude:
  patterns: []              # Gitignore-style globs (e.g., ["*.log", "temp/**"])
  vendorDirs:               # Skip directories (node_modules, dist, .git)
  binaryExtensions:         # Skip file types (.png, .jpg, .pdf)

options:
  followSymlinks: false     # Symbolic link traversal flag
  maxFileSize: 1048576      # Binary detection threshold (1MB)

output:
  colors: true              # ANSI color codes in terminal
  verbose: true             # Per-file processing display

ai:
  backend: auto             # Backend: 'claude', 'gemini', 'opencode', 'auto'
  model: sonnet             # Backend-specific model identifier
  timeoutMs: 300000         # Subprocess timeout (5 minutes default)
  maxRetries: 3             # Exponential backoff retry attempts
  concurrency: 5            # Worker pool size (1-10, WSL defaults to 2)
  
  telemetry:
    keepRuns: 50            # Run log retention count
    costThresholdUsd: 10.0  # Cost warning threshold (USD)
  
  pricing:                  # Per-model token cost overrides
    claude-opus-4:
      inputCostPerMTok: 15.0   # USD per 1M input tokens
      outputCostPerMTok: 75.0  # USD per 1M output tokens
```

Key options:
- `ai.concurrency` range `1-10` (lower for resource-constrained environments, WSL defaults to 2)
- `ai.timeoutMs` default `300000` (increase for large files/slow connections)
- `exclude.patterns` accepts glob patterns for custom exclusions
- `options.maxFileSize` defines binary detection threshold in bytes

## Three-Phase Generation Workflow

Phase 1 (File Analysis): Concurrent subprocess pool generates `.sum` files for each source file discovered by `are discover`. Post-order traversal ensures deepest directories processed first.

Phase 2 (Directory Aggregation): Sequential `AGENTS.md` generation for each directory, consuming child `.sum` files and subdirectory `AGENTS.md` files. Preserves user-authored content by renaming `AGENTS.md` → `AGENTS.local.md` before generation.

Phase 3 (Root Synthesis): Sequential generation of `CLAUDE.md`, `GEMINI.md`, `OPENCODE.md` from aggregated `AGENTS.md` corpus. Each runtime receives tailored integration instructions.

Progress logged to `.agents-reverse-engineer/progress.log`, viewable via `tail -f` during long-running operations.

## Incremental Update Strategy

`are update` workflow:
1. Read `content_hash` from `.sum` YAML frontmatter
2. Compute SHA-256 hash of current file content
3. Hash mismatch → regenerate `.sum`
4. Hash match → skip file
5. Detect orphans (`.sum` for deleted source files)
6. Cleanup orphaned `.sum` files and empty `AGENTS.md` directories
7. Regenerate affected directory `AGENTS.md` via parent directory traversal

## Requirements and Compatibility

- Node.js ≥18.0.0
- AI assistant supporting `AGENTS.md` format:
  - Claude Code (full support + session hooks)
  - Gemini CLI (full support + session hooks)
  - OpenCode (AGENTS.md supported)
  - Any assistant reading `AGENTS.md`

Session hooks auto-update documentation on session end for Claude Code and Gemini CLI (disable via `ARE_DISABLE_HOOK=1` environment variable).

## Messaging and Value Proposition

User testimonials:
- _"Finally, my AI assistant actually understands my codebase structure."_
- _"No more explaining the same architecture in every conversation."_

Problem statement: AI coding assistants lack persistent codebase knowledge, requiring repeated context explanation across sessions.

Solution: Generate AI-readable documentation (`.sum`, `AGENTS.md`, root docs) consumed by assistants for persistent understanding.

Target audience: Developers using Claude Code, OpenCode, Gemini CLI, or AGENTS.md-compatible assistants seeking to eliminate repetitive context provision.
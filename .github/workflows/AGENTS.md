<!-- Generated by agents-reverse-engineer -->

# workflows

**GitHub Actions CI/CD automation for npm package publication with Sigstore provenance attestation.**

## Contents

### Workflows

**[publish.yml](./publish.yml)** — Publishes npm package on release events via `npm publish --provenance --access public` with OIDC-signed cryptographic attestation linking artifact to commit SHA.

## Triggers

Workflow activates on two event types:
- `release[published]` when GitHub release is published
- `workflow_dispatch` for manual execution via UI

## Job Pipeline

Single `publish` job on `ubuntu-latest` executes five steps:
1. `actions/checkout@v4` clones repository at triggered commit
2. `actions/setup-node@v4` with Node.js 20 and npm registry authentication context
3. `npm ci` installs dependencies from lockfile
4. `npm run build` invokes `prepublishOnly` script (`tsc` + `build:hooks`)
5. `npm publish --provenance --access public` with `NPM_TOKEN` secret

## Provenance Attestation

`--provenance` flag generates Sigstore transparency log entry cryptographically binding published package to source commit SHA via OIDC token exchange (`id-token: write` permission required). Artifact consumers verify authenticity via `npm audit signatures`.

## Permissions

- `contents: read` — Repository checkout access
- `id-token: write` — OIDC token generation for Sigstore signing

## Environment Variables

`NODE_AUTH_TOKEN` set from GitHub secret `secrets.NPM_TOKEN` via `.npmrc` injection by `actions/setup-node`.
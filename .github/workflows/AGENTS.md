<!-- Generated by agents-reverse-engineer -->

# .github/workflows

GitHub Actions CI/CD workflows automating npm package publication with cryptographic provenance attestation on release events.

## Contents

### [publish.yml](./publish.yml)
Defines workflow triggering on `release[published]` events or manual `workflow_dispatch`, executing `ubuntu-latest` job with `id-token: write` permission enabling Sigstore-signed provenance via `npm publish --provenance`. Runs `actions/checkout@v4`, `actions/setup-node@v4` with registry-url `https://registry.npmjs.org`, `npm ci`, `npm run build` (invokes `tsc` + `build:hooks` script from package.json `prepublishOnly`), and publishes with `--access public` using `NPM_TOKEN` secret.

## Provenance Mechanism

Workflow leverages GitHub's OIDC token system (`id-token: write` permission) to generate cryptographic attestation linking published npm artifact to source commit SHA in CI environment. `npm publish --provenance` flag produces Sigstore-signed metadata enabling supply chain verification via `npm audit signatures`, proving package was built from specific repository commit without tampering.

## Integration Points

**Secrets:** Requires `NPM_TOKEN` repository secret containing npm authentication token with publish scope.

**Build Pipeline:** Depends on package.json `prepublishOnly` lifecycle hook executing `npm run build && npm run build:hooks`, which compiles TypeScript (`tsc` emits `src/` → `dist/`) and copies hooks (`scripts/build-hooks.js` copies `hooks/` → `hooks/dist/`).

**Trigger Sources:** Activates via GitHub release creation UI (triggers `release[published]` event) or Actions tab manual dispatch button (`workflow_dispatch` event).
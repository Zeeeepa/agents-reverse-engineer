<!-- Generated by agents-reverse-engineer -->

# .github/workflows

**GitHub Actions workflow for automated npm package publishing with cryptographic provenance attestation on release events.**

## Contents

### Workflows

**[publish.yml](./publish.yml)** â€” Automates npm publish on `release[published]` events with Sigstore-signed provenance linking published tarball to source commit SHA via GitHub OIDC provider.

## Workflow Architecture

**Trigger Conditions**: Executes on `release[published]` GitHub webhook events and manual `workflow_dispatch` invocation.

**Runtime Environment**: Single `publish` job on `ubuntu-latest` runner with Node.js 20, npm registry authentication via `NODE_AUTH_TOKEN` secret, and `id-token: write` permission enabling OIDC-based attestation signing.

**Build Pipeline**: Sequential steps execute `npm ci` (lockfile-based clean install), `npm run build` (invokes `prepublishOnly` hook running TypeScript compilation via `tsc` and hook file copying via `scripts/build-hooks.js`), then `npm publish --provenance --access public` generating Sigstore transparency log entry cryptographically binding published artifact to GitHub Actions workflow run and source commit.

## Integration Points

**Package Build System**: Depends on `prepublishOnly` script in root `package.json` executing `npm run build && npm run build:hooks`, compiling `src/` to `dist/` and copying `hooks/` to `hooks/dist/` for tarball inclusion.

**Security Model**: Uses GitHub Actions secrets (`NPM_TOKEN`) for registry write access and native GitHub OIDC provider for provenance signing without long-lived cryptographic keys.

**Provenance Chain**: The `--provenance` flag generates SLSA build attestation including workflow file path (`.github/workflows/publish.yml`), runner environment metadata, and commit SHA, recorded in Sigstore's public transparency log for post-publication verification via `npm audit signatures`.
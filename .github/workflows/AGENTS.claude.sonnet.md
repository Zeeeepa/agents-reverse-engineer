<!-- Generated by agents-reverse-engineer v1.1.0 -->

# .github/workflows

GitHub Actions CI/CD workflows automating documentation deployment (`pages.yml`) and npm package publication (`publish.yml`) on release events.

## Contents

- [`pages.yml`](./pages.yml): Deploys static site to GitHub Pages on `main` branch commits touching `site/**` or `blog/**` paths. Executes `npm ci` → `node site/build.mjs` → `actions/upload-pages-artifact@v3` → `actions/deploy-pages@v4`. Requires `contents: read`, `pages: write`, `id-token: write` permissions. Concurrency group `pages` with `cancel-in-progress: true` prevents parallel deploys.
- [`publish.yml`](./publish.yml): Publishes npm package on `release.types: [published]` events via `npm publish --provenance --access public`. Runs Node 20 build pipeline: `actions/checkout@v4` → `actions/setup-node@v4` (registry `https://registry.npmjs.org`) → `npm ci` → `npm run build` (invokes TypeScript compilation) → publish with `NODE_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }}`. Requires `contents: read`, `id-token: write` for signed provenance attestation.

## Behavioral Contracts

**Publish Flags**:
- `--provenance`: Generates signed SLSA attestation linking package to source commit (requires `id-token: write`)
- `--access public`: Overrides default private visibility for scoped packages

**Pages Concurrency**: Group `pages` with `cancel-in-progress: true` kills in-flight deploys when new `site/**` or `blog/**` commits land on `main`

**Registry Authentication**: `actions/setup-node@v4` with `registry-url: 'https://registry.npmjs.org'` configures `.npmrc`, `NODE_AUTH_TOKEN` env var authenticates during `npm publish`

**Permissions Requirements**:
- Pages workflow: `contents: read` (checkout), `pages: write` (deploy), `id-token: write` (OIDC token)
- Publish workflow: `contents: read` (checkout), `id-token: write` (provenance)

**Trigger Paths**: `pages.yml` filters `push.paths: ['site/**', 'blog/**']` to skip builds for unrelated changes